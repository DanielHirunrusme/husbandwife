{"version":3,"sources":["../../node_modules/browser-pack/_prelude.js","../../node_modules/barba.js/dist/barba.js","../../node_modules/viewerjs/dist/viewer.js","../../src/js/lib/init-modules.js","../../src/js/main.js","../../src/js/modules/barba.js","../../src/js/modules/body.js","../../src/js/modules/callout.js","../../src/js/modules/ig-module.js","../../src/js/modules/masonry.js","../../src/js/modules/menu.js","../../src/js/modules/project-grid.js","../../src/js/modules/project.js","../../src/js/modules/projects-menu.js","../../src/js/modules/settings.js","../../src/js/modules/slideshow.js","../../src/js/modules/throttle.js","../../src/js/modules/video.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","Promise","window","Barba","version","BaseTransition","BaseView","BaseCache","Dispatcher","HistoryManager","Pjax","Prefetch","Utils","setImmediate","noop","bind","fn","thisArg","apply","arguments","TypeError","_state","_handled","_value","undefined","_deferreds","doResolve","handle","self","deferred","push","asap","cb","onFulfilled","onRejected","resolve","reject","promise","ret","e","newValue","then","finale","length","onUnhandledRejection","i","len","Handler","done","value","reason","ex","setTimeoutFunc","setTimeout","err","console","warn","prototype","prom","all","arr","args","Array","slice","res","val","remaining","constructor","race","values","_setImmediateFn","_setUnhandledRejectionFn","clearImmediate","Timeout","clearFn","_id","_clearFn","nextTick","Function","immediateIds","nextImmediateId","clearTimeout","setInterval","clearInterval","timeout","close","unref","ref","enroll","item","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","_onTimeout","cleanUpNextTick","draining","currentQueue","queue","concat","queueIndex","drainQueue","cachedSetTimeout","run","cachedClearTimeout","Item","fun","array","process","Error","title","browser","env","argv","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","binding","name","cwd","chdir","dir","umask","oldContainer","newContainer","newContainerLoading","extend","obj","init","_this","_newContainerPromise","newContainerReady","start","parentNode","removeChild","style","visibility","getCurrentUrl","location","protocol","host","pathname","search","cleanLink","url","replace","xhrTimeout","xhr","req","XMLHttpRequest","onreadystatechange","readyState","status","responseText","ontimeout","open","setRequestHeader","send","props","newObj","Object","create","prop","hasOwnProperty","getPort","port","parseInt","namespace","newStatus","oldStatus","onLeave","container","onEnter","onEnterCompleted","onLeaveCompleted","events","f","splice","indexOf","trigger","data","set","key","get","reset","history","add","currentStatus","prevStatus","HideShowTransition","Dom","History","Cache","cacheEnabled","transitionProgress","ignoreClassLink","getContainer","wrapper","getWrapper","setAttribute","getNamespace","currentHTML","bindEvents","document","addEventListener","onLinkClick","onStateChange","goTo","pushState","forceGoTo","load","parseResponse","putContainer","getHref","el","getAttribute","href","evt","target","preventCheck","stopPropagation","preventDefault","element","which","metaKey","ctrlKey","shiftKey","altKey","hostname","classList","contains","getTransition","newUrl","transition","transitionInstance","onNewContainerLoaded","onTransitionEnd","finish","body","scrollTop","dataNamespace","wrapperId","containerClass","documentElement","innerHTML","createElement","titleEl","querySelector","textContent","getElementById","parseContainer","jquery","dataset","appendChild","onLinkEnter","global","Viewer","isString","isNumber","isNaN","isUndefined","isObject","_typeof","isPlainObject","_constructor","isFunction","each","callback","isArray","keys","forEach","_len","_key","assign","arg","proxy","context","_len2","_key2","_len3","args2","_key3","setStyle","styles","property","REGEXP_SUFFIX","test","getStyle","getComputedStyle","currentStyle","hasClass","className","addClass","elem","trim","removeClass","remove","toggleClass","added","hyphenate","REGEXP_HYPHENATE","toLowerCase","getData","setData","removeData","removeAttribute","type","listener","options","types","split","REGEXP_SPACES","t","removeEventListener","detachEvent","_listener","originalListener","_len4","_key4","attachEvent","dispatchEvent","event","Event","CustomEvent","bubbles","cancelable","detail","createEvent","initEvent","initCustomEvent","fireEvent","getOffset","doc","box","getBoundingClientRect","left","scrollX","scrollLeft","clientLeft","top","scrollY","clientTop","empty","firstChild","getTransforms","_ref","rotate","scaleX","scaleY","transform","join","WebkitTransform","msTransform","getImageNameFromURL","getImageNaturalSizes","image","naturalWidth","IS_SAFARI_OR_UIWEBVIEW","naturalHeight","newImage","onload","width","height","src","getResponsiveClass","CLASS_HIDE_XS_DOWN","CLASS_HIDE_SM_DOWN","CLASS_HIDE_MD_DOWN","getMaxZoomRatio","pointers","pointers2","ratios","pointer","pointerId","pointer2","x1","Math","abs","startX","y1","startY","x2","endX","y2","endY","z1","sqrt","z2","ratio","sort","a","b","getPointer","_ref2","endOnly","pageX","pageY","end","getPointersCenter","count","_ref3","_toConsumableArray","arr2","from","_classCallCheck","instance","Constructor","DEFAULTS","inline","button","navbar","toolbar","tooltip","movable","zoomable","rotatable","scalable","fullscreen","keyboard","loop","minWidth","minHeight","zoomRatio","minZoomRatio","maxZoomRatio","zIndex","zIndexInline","filter","ready","show","shown","hide","hidden","view","viewed","TEMPLATE","WINDOW","NAMESPACE","ACTION_MOVE","ACTION_SWITCH","ACTION_ZOOM","CLASS_ACTIVE","CLASS_CLOSE","CLASS_FADE","CLASS_FIXED","CLASS_FULLSCREEN","CLASS_FULLSCREEN_EXIT","CLASS_HIDE","CLASS_IN","CLASS_INVISIBLE","CLASS_MOVE","CLASS_OPEN","CLASS_SHOW","CLASS_TRANSITION","EVENT_READY","EVENT_SHOW","EVENT_SHOWN","EVENT_HIDE","EVENT_HIDDEN","EVENT_VIEW","EVENT_VIEWED","EVENT_CLICK","EVENT_DRAG_START","EVENT_KEY_DOWN","EVENT_LOAD","EVENT_POINTER_DOWN","PointerEvent","EVENT_POINTER_MOVE","EVENT_POINTER_UP","EVENT_RESIZE","EVENT_TRANSITION_END","EVENT_WHEEL","BUTTONS","Symbol","iterator","Number","navigator","userAgent","render","initContainer","initViewer","initList","renderViewer","containerData","innerWidth","innerHeight","parent","viewerData","max","offsetWidth","offsetHeight","parentData","fulled","viewer","list","items","images","alt","getElementsByTagName","loadImage","renderList","index","outerWidth","marginLeft","resetList","initImage","_this2","footerHeight","footer","viewerWidth","viewerHeight","oldImageData","ImageData","aspectRatio","min","imageData","initialImageData","renderImage","marginTop","transitioning","resetImage","onClick","click","onWheel","wheel","onDragStart","dragstart","canvas","onPointerDown","pointerdown","ownerDocument","onPointerMove","pointermove","onPointerUp","pointerup","onKeyDown","keydown","onResize","resize","unbind","handlers","action","played","stop","exit","full","zoom","toggle","prev","play","next","cssText","originalImage","parentWidth","parentHeight","filled","keyCode","charCode","tagName","changedTouches","touch","identifier","pointerType","isSwitchable","change","fullscreenElement","mozFullScreenElement","webkitFullscreenElement","msFullscreenElement","player","_this3","wheeling","delta","deltaY","wheelDelta","methods","visible","build","zoomTo","img","complete","maxIndex","move","offsetX","offsetY","moveTo","x","y","changed","hasTooltip","_originalEvent","_zoomable","newWidth","newHeight","offset","center","degree","rotateTo","_scaleX","scale","_scaleY","_this4","total","requestFullscreen","onLoadWhenPlay","interval","playing","_this5","exitFullscreen","_this6","_this7","_this8","tooltipBox","round","tooltiping","fading","update","isImg","indexes","destroy","querySelectorAll","onStart","unbuild","others","paddingRight","scrollbarWidth","parseFloat","initialBodyPaddingRight","_window","msRequestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","Element","ALLOW_KEYBOARD_INPUT","msExitFullscreen","mozCancelFullScreen","webkitExitFullscreen","_createClass","defineProperties","descriptor","enumerable","configurable","writable","defineProperty","protoProps","staticProps","AnotherViewer","nodeType","_document","clientWidth","progress","template","custom","zoomButtons","rotateButtons","scaleButtons","deep","size","rotates","position","insertBefore","nextSibling","initializeModules","Module","names","j","unique","require","log","barbajs","settings","barba","initModules","clearTimers","FadeTransition","fadeOut","fadeIn","$","animate","opacity","$el","page","find","text","setBodyClass","timers","page_class","last","throttle","$window","winResize","animOff","animOn","winResizeEnd","resizeTimer","calloutScroll","op","outerHeight","css","setImages","feed","Instafeed","userId","clientId","accessToken","resolution","after","masonry","transitionDuration","imagesLoaded","always","fail","result","isLoaded","homeLinkClicked","$container","winScroll","topClicked","textClicked","imageClicked","$total","closest","totalImages","pos","eq","$pi","$aside","setCounter","num","$current","menuLinkOver","menuLinkClick","preloadImages","currentTarget","setCurrent","mobileAndTabletcheck","check","substr","vendor","opera","breakpoints","xs","s","ml","l","xl","xxl","padding","scrollContainer","animationSpeed","scrollPos","animating","tier","current","isMobile","nextImage","timerSpeed","currImage","watchSlideshow","toArray","threshold","scope","deferTimer","now","Date","attr"],"mappings":"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","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Barba\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Barba\"] = factory();\n\telse\n\t\troot[\"Barba\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"http://localhost:8080/dist\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t//Promise polyfill https://github.com/taylorhakes/promise-polyfill\n\t\n\tif (typeof Promise !== 'function') {\n\t window.Promise = __webpack_require__(1);\n\t}\n\t\n\tvar Barba = {\n\t  version: '1.0.0',\n\t  BaseTransition: __webpack_require__(4),\n\t  BaseView: __webpack_require__(6),\n\t  BaseCache: __webpack_require__(8),\n\t  Dispatcher: __webpack_require__(7),\n\t  HistoryManager: __webpack_require__(9),\n\t  Pjax: __webpack_require__(10),\n\t  Prefetch: __webpack_require__(13),\n\t  Utils: __webpack_require__(5)\n\t};\n\t\n\tmodule.exports = Barba;\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(setImmediate) {(function (root) {\n\t\n\t  // Store setTimeout reference so promise-polyfill will be unaffected by\n\t  // other code modifying setTimeout (like sinon.useFakeTimers())\n\t  var setTimeoutFunc = setTimeout;\n\t\n\t  function noop() {\n\t  }\n\t\n\t  // Use polyfill for setImmediate for performance gains\n\t  var asap = (typeof setImmediate === 'function' && setImmediate) ||\n\t    function (fn) {\n\t      setTimeoutFunc(fn, 0);\n\t    };\n\t\n\t  var onUnhandledRejection = function onUnhandledRejection(err) {\n\t    if (typeof console !== 'undefined' && console) {\n\t      console.warn('Possible Unhandled Promise Rejection:', err); // eslint-disable-line no-console\n\t    }\n\t  };\n\t\n\t  // Polyfill for Function.prototype.bind\n\t  function bind(fn, thisArg) {\n\t    return function () {\n\t      fn.apply(thisArg, arguments);\n\t    };\n\t  }\n\t\n\t  function Promise(fn) {\n\t    if (typeof this !== 'object') throw new TypeError('Promises must be constructed via new');\n\t    if (typeof fn !== 'function') throw new TypeError('not a function');\n\t    this._state = 0;\n\t    this._handled = false;\n\t    this._value = undefined;\n\t    this._deferreds = [];\n\t\n\t    doResolve(fn, this);\n\t  }\n\t\n\t  function handle(self, deferred) {\n\t    while (self._state === 3) {\n\t      self = self._value;\n\t    }\n\t    if (self._state === 0) {\n\t      self._deferreds.push(deferred);\n\t      return;\n\t    }\n\t    self._handled = true;\n\t    asap(function () {\n\t      var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\n\t      if (cb === null) {\n\t        (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\n\t        return;\n\t      }\n\t      var ret;\n\t      try {\n\t        ret = cb(self._value);\n\t      } catch (e) {\n\t        reject(deferred.promise, e);\n\t        return;\n\t      }\n\t      resolve(deferred.promise, ret);\n\t    });\n\t  }\n\t\n\t  function resolve(self, newValue) {\n\t    try {\n\t      // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n\t      if (newValue === self) throw new TypeError('A promise cannot be resolved with itself.');\n\t      if (newValue && (typeof newValue === 'object' || typeof newValue === 'function')) {\n\t        var then = newValue.then;\n\t        if (newValue instanceof Promise) {\n\t          self._state = 3;\n\t          self._value = newValue;\n\t          finale(self);\n\t          return;\n\t        } else if (typeof then === 'function') {\n\t          doResolve(bind(then, newValue), self);\n\t          return;\n\t        }\n\t      }\n\t      self._state = 1;\n\t      self._value = newValue;\n\t      finale(self);\n\t    } catch (e) {\n\t      reject(self, e);\n\t    }\n\t  }\n\t\n\t  function reject(self, newValue) {\n\t    self._state = 2;\n\t    self._value = newValue;\n\t    finale(self);\n\t  }\n\t\n\t  function finale(self) {\n\t    if (self._state === 2 && self._deferreds.length === 0) {\n\t      asap(function() {\n\t        if (!self._handled) {\n\t          onUnhandledRejection(self._value);\n\t        }\n\t      });\n\t    }\n\t\n\t    for (var i = 0, len = self._deferreds.length; i < len; i++) {\n\t      handle(self, self._deferreds[i]);\n\t    }\n\t    self._deferreds = null;\n\t  }\n\t\n\t  function Handler(onFulfilled, onRejected, promise) {\n\t    this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n\t    this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n\t    this.promise = promise;\n\t  }\n\t\n\t  /**\n\t   * Take a potentially misbehaving resolver function and make sure\n\t   * onFulfilled and onRejected are only called once.\n\t   *\n\t   * Makes no guarantees about asynchrony.\n\t   */\n\t  function doResolve(fn, self) {\n\t    var done = false;\n\t    try {\n\t      fn(function (value) {\n\t        if (done) return;\n\t        done = true;\n\t        resolve(self, value);\n\t      }, function (reason) {\n\t        if (done) return;\n\t        done = true;\n\t        reject(self, reason);\n\t      });\n\t    } catch (ex) {\n\t      if (done) return;\n\t      done = true;\n\t      reject(self, ex);\n\t    }\n\t  }\n\t\n\t  Promise.prototype['catch'] = function (onRejected) {\n\t    return this.then(null, onRejected);\n\t  };\n\t\n\t  Promise.prototype.then = function (onFulfilled, onRejected) {\n\t    var prom = new (this.constructor)(noop);\n\t\n\t    handle(this, new Handler(onFulfilled, onRejected, prom));\n\t    return prom;\n\t  };\n\t\n\t  Promise.all = function (arr) {\n\t    var args = Array.prototype.slice.call(arr);\n\t\n\t    return new Promise(function (resolve, reject) {\n\t      if (args.length === 0) return resolve([]);\n\t      var remaining = args.length;\n\t\n\t      function res(i, val) {\n\t        try {\n\t          if (val && (typeof val === 'object' || typeof val === 'function')) {\n\t            var then = val.then;\n\t            if (typeof then === 'function') {\n\t              then.call(val, function (val) {\n\t                res(i, val);\n\t              }, reject);\n\t              return;\n\t            }\n\t          }\n\t          args[i] = val;\n\t          if (--remaining === 0) {\n\t            resolve(args);\n\t          }\n\t        } catch (ex) {\n\t          reject(ex);\n\t        }\n\t      }\n\t\n\t      for (var i = 0; i < args.length; i++) {\n\t        res(i, args[i]);\n\t      }\n\t    });\n\t  };\n\t\n\t  Promise.resolve = function (value) {\n\t    if (value && typeof value === 'object' && value.constructor === Promise) {\n\t      return value;\n\t    }\n\t\n\t    return new Promise(function (resolve) {\n\t      resolve(value);\n\t    });\n\t  };\n\t\n\t  Promise.reject = function (value) {\n\t    return new Promise(function (resolve, reject) {\n\t      reject(value);\n\t    });\n\t  };\n\t\n\t  Promise.race = function (values) {\n\t    return new Promise(function (resolve, reject) {\n\t      for (var i = 0, len = values.length; i < len; i++) {\n\t        values[i].then(resolve, reject);\n\t      }\n\t    });\n\t  };\n\t\n\t  /**\n\t   * Set the immediate function to execute callbacks\n\t   * @param fn {function} Function to execute\n\t   * @private\n\t   */\n\t  Promise._setImmediateFn = function _setImmediateFn(fn) {\n\t    asap = fn;\n\t  };\n\t\n\t  Promise._setUnhandledRejectionFn = function _setUnhandledRejectionFn(fn) {\n\t    onUnhandledRejection = fn;\n\t  };\n\t\n\t  if (typeof module !== 'undefined' && module.exports) {\n\t    module.exports = Promise;\n\t  } else if (!root.Promise) {\n\t    root.Promise = Promise;\n\t  }\n\t\n\t})(this);\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2).setImmediate))\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(setImmediate, clearImmediate) {var nextTick = __webpack_require__(3).nextTick;\n\tvar apply = Function.prototype.apply;\n\tvar slice = Array.prototype.slice;\n\tvar immediateIds = {};\n\tvar nextImmediateId = 0;\n\t\n\t// DOM APIs, for completeness\n\t\n\texports.setTimeout = function() {\n\t  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);\n\t};\n\texports.setInterval = function() {\n\t  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);\n\t};\n\texports.clearTimeout =\n\texports.clearInterval = function(timeout) { timeout.close(); };\n\t\n\tfunction Timeout(id, clearFn) {\n\t  this._id = id;\n\t  this._clearFn = clearFn;\n\t}\n\tTimeout.prototype.unref = Timeout.prototype.ref = function() {};\n\tTimeout.prototype.close = function() {\n\t  this._clearFn.call(window, this._id);\n\t};\n\t\n\t// Does not start the time, just sets up the members needed.\n\texports.enroll = function(item, msecs) {\n\t  clearTimeout(item._idleTimeoutId);\n\t  item._idleTimeout = msecs;\n\t};\n\t\n\texports.unenroll = function(item) {\n\t  clearTimeout(item._idleTimeoutId);\n\t  item._idleTimeout = -1;\n\t};\n\t\n\texports._unrefActive = exports.active = function(item) {\n\t  clearTimeout(item._idleTimeoutId);\n\t\n\t  var msecs = item._idleTimeout;\n\t  if (msecs >= 0) {\n\t    item._idleTimeoutId = setTimeout(function onTimeout() {\n\t      if (item._onTimeout)\n\t        item._onTimeout();\n\t    }, msecs);\n\t  }\n\t};\n\t\n\t// That's not how node.js implements it but the exposed api is the same.\n\texports.setImmediate = typeof setImmediate === \"function\" ? setImmediate : function(fn) {\n\t  var id = nextImmediateId++;\n\t  var args = arguments.length < 2 ? false : slice.call(arguments, 1);\n\t\n\t  immediateIds[id] = true;\n\t\n\t  nextTick(function onNextTick() {\n\t    if (immediateIds[id]) {\n\t      // fn.call() is faster so we optimize for the common use-case\n\t      // @see http://jsperf.com/call-apply-segu\n\t      if (args) {\n\t        fn.apply(null, args);\n\t      } else {\n\t        fn.call(null);\n\t      }\n\t      // Prevent ids from leaking\n\t      exports.clearImmediate(id);\n\t    }\n\t  });\n\t\n\t  return id;\n\t};\n\t\n\texports.clearImmediate = typeof clearImmediate === \"function\" ? clearImmediate : function(id) {\n\t  delete immediateIds[id];\n\t};\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2).setImmediate, __webpack_require__(2).clearImmediate))\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t// shim for using process in browser\n\t\n\tvar process = module.exports = {};\n\t\n\t// cached from whatever global is present so that test runners that stub it\n\t// don't break things.  But we need to wrap it in a try catch in case it is\n\t// wrapped in strict mode code which doesn't define any globals.  It's inside a\n\t// function because try/catches deoptimize in certain engines.\n\t\n\tvar cachedSetTimeout;\n\tvar cachedClearTimeout;\n\t\n\t(function () {\n\t  try {\n\t    cachedSetTimeout = setTimeout;\n\t  } catch (e) {\n\t    cachedSetTimeout = function () {\n\t      throw new Error('setTimeout is not defined');\n\t    }\n\t  }\n\t  try {\n\t    cachedClearTimeout = clearTimeout;\n\t  } catch (e) {\n\t    cachedClearTimeout = function () {\n\t      throw new Error('clearTimeout is not defined');\n\t    }\n\t  }\n\t} ())\n\tvar queue = [];\n\tvar draining = false;\n\tvar currentQueue;\n\tvar queueIndex = -1;\n\t\n\tfunction cleanUpNextTick() {\n\t    if (!draining || !currentQueue) {\n\t        return;\n\t    }\n\t    draining = false;\n\t    if (currentQueue.length) {\n\t        queue = currentQueue.concat(queue);\n\t    } else {\n\t        queueIndex = -1;\n\t    }\n\t    if (queue.length) {\n\t        drainQueue();\n\t    }\n\t}\n\t\n\tfunction drainQueue() {\n\t    if (draining) {\n\t        return;\n\t    }\n\t    var timeout = cachedSetTimeout(cleanUpNextTick);\n\t    draining = true;\n\t\n\t    var len = queue.length;\n\t    while(len) {\n\t        currentQueue = queue;\n\t        queue = [];\n\t        while (++queueIndex < len) {\n\t            if (currentQueue) {\n\t                currentQueue[queueIndex].run();\n\t            }\n\t        }\n\t        queueIndex = -1;\n\t        len = queue.length;\n\t    }\n\t    currentQueue = null;\n\t    draining = false;\n\t    cachedClearTimeout(timeout);\n\t}\n\t\n\tprocess.nextTick = function (fun) {\n\t    var args = new Array(arguments.length - 1);\n\t    if (arguments.length > 1) {\n\t        for (var i = 1; i < arguments.length; i++) {\n\t            args[i - 1] = arguments[i];\n\t        }\n\t    }\n\t    queue.push(new Item(fun, args));\n\t    if (queue.length === 1 && !draining) {\n\t        cachedSetTimeout(drainQueue, 0);\n\t    }\n\t};\n\t\n\t// v8 likes predictible objects\n\tfunction Item(fun, array) {\n\t    this.fun = fun;\n\t    this.array = array;\n\t}\n\tItem.prototype.run = function () {\n\t    this.fun.apply(null, this.array);\n\t};\n\tprocess.title = 'browser';\n\tprocess.browser = true;\n\tprocess.env = {};\n\tprocess.argv = [];\n\tprocess.version = ''; // empty string to avoid regexp issues\n\tprocess.versions = {};\n\t\n\tfunction noop() {}\n\t\n\tprocess.on = noop;\n\tprocess.addListener = noop;\n\tprocess.once = noop;\n\tprocess.off = noop;\n\tprocess.removeListener = noop;\n\tprocess.removeAllListeners = noop;\n\tprocess.emit = noop;\n\t\n\tprocess.binding = function (name) {\n\t    throw new Error('process.binding is not supported');\n\t};\n\t\n\tprocess.cwd = function () { return '/' };\n\tprocess.chdir = function (dir) {\n\t    throw new Error('process.chdir is not supported');\n\t};\n\tprocess.umask = function() { return 0; };\n\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar Utils = __webpack_require__(5);\n\t\n\t/**\n\t * BaseTransition to extend\n\t *\n\t * @namespace Barba.BaseTransition\n\t * @type {Object}\n\t */\n\tvar BaseTransition = {\n\t  /**\n\t   * @memberOf Barba.BaseTransition\n\t   * @type {HTMLElement}\n\t   */\n\t  oldContainer: undefined,\n\t\n\t  /**\n\t   * @memberOf Barba.BaseTransition\n\t   * @type {HTMLElement}\n\t   */\n\t  newContainer: undefined,\n\t\n\t  /**\n\t   * @memberOf Barba.BaseTransition\n\t   * @type {Promise}\n\t   */\n\t  newContainerLoading: undefined,\n\t\n\t  /**\n\t   * Helper to extend the object\n\t   *\n\t   * @memberOf Barba.BaseTransition\n\t   * @param  {Object} newObject\n\t   * @return {Object} newInheritObject\n\t   */\n\t  extend: function(obj){\n\t    return Utils.extend(this, obj);\n\t  },\n\t\n\t  /**\n\t   * This function is called from Pjax module to initialize\n\t   * the transition.\n\t   *\n\t   * @memberOf Barba.BaseTransition\n\t   * @private\n\t   * @param  {HTMLElement} oldContainer\n\t   * @param  {Promise} newContainer\n\t   * @return {Promise}\n\t   */\n\t  init: function(oldContainer, newContainer) {\n\t    var _this = this;\n\t\n\t    this.oldContainer = oldContainer;\n\t    this._newContainerPromise = newContainer;\n\t\n\t    this.deferred = Utils.deferred();\n\t    this.newContainerReady = Utils.deferred();\n\t    this.newContainerLoading = this.newContainerReady.promise;\n\t\n\t    this.start();\n\t\n\t    this._newContainerPromise.then(function(newContainer) {\n\t      _this.newContainer = newContainer;\n\t      _this.newContainerReady.resolve();\n\t    });\n\t\n\t    return this.deferred.promise;\n\t  },\n\t\n\t  /**\n\t   * This function needs to be called as soon the Transition is finished\n\t   *\n\t   * @memberOf Barba.BaseTransition\n\t   */\n\t  done: function() {\n\t    this.oldContainer.parentNode.removeChild(this.oldContainer);\n\t    this.newContainer.style.visibility = 'visible';\n\t    this.deferred.resolve();\n\t  },\n\t\n\t  /**\n\t   * Constructor for your Transition\n\t   *\n\t   * @memberOf Barba.BaseTransition\n\t   * @abstract\n\t   */\n\t  start: function() {},\n\t};\n\t\n\tmodule.exports = BaseTransition;\n\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\t/**\n\t * Just an object with some helpful functions\n\t *\n\t * @type {Object}\n\t * @namespace Barba.Utils\n\t */\n\tvar Utils = {\n\t  /**\n\t   * Return the current url\n\t   *\n\t   * @memberOf Barba.Utils\n\t   * @return {String} currentUrl\n\t   */\n\t  getCurrentUrl: function() {\n\t    return window.location.protocol + '//' +\n\t           window.location.host +\n\t           window.location.pathname +\n\t           window.location.search;\n\t  },\n\t\n\t  /**\n\t   * Given an url, return it without the hash\n\t   *\n\t   * @memberOf Barba.Utils\n\t   * @private\n\t   * @param  {String} url\n\t   * @return {String} newCleanUrl\n\t   */\n\t  cleanLink: function(url) {\n\t    return url.replace(/#.*/, '');\n\t  },\n\t\n\t  /**\n\t   * Time in millisecond after the xhr request goes in timeout\n\t   *\n\t   * @memberOf Barba.Utils\n\t   * @type {Number}\n\t   * @default\n\t   */\n\t  xhrTimeout: 5000,\n\t\n\t  /**\n\t   * Start an XMLHttpRequest() and return a Promise\n\t   *\n\t   * @memberOf Barba.Utils\n\t   * @param  {String} url\n\t   * @return {Promise}\n\t   */\n\t  xhr: function(url) {\n\t    var deferred = this.deferred();\n\t    var req = new XMLHttpRequest();\n\t\n\t    req.onreadystatechange = function() {\n\t      if (req.readyState === 4) {\n\t        if (req.status === 200) {\n\t          return deferred.resolve(req.responseText);\n\t        } else {\n\t          return deferred.reject(new Error('xhr: HTTP code is not 200'));\n\t        }\n\t      }\n\t    };\n\t\n\t    req.ontimeout = function() {\n\t      return deferred.reject(new Error('xhr: Timeout exceeded'));\n\t    };\n\t\n\t    req.open('GET', url);\n\t    req.timeout = this.xhrTimeout;\n\t    req.setRequestHeader('x-barba', 'yes');\n\t    req.send();\n\t\n\t    return deferred.promise;\n\t  },\n\t\n\t  /**\n\t   * Get obj and props and return a new object with the property merged\n\t   *\n\t   * @memberOf Barba.Utils\n\t   * @param  {object} obj\n\t   * @param  {object} props\n\t   * @return {object}\n\t   */\n\t  extend: function(obj, props) {\n\t    var newObj = Object.create(obj);\n\t\n\t    for(var prop in props) {\n\t      if(props.hasOwnProperty(prop)) {\n\t        newObj[prop] = props[prop];\n\t      }\n\t    }\n\t\n\t    return newObj;\n\t  },\n\t\n\t  /**\n\t   * Return a new \"Deferred\" object\n\t   * https://developer.mozilla.org/en-US/docs/Mozilla/JavaScript_code_modules/Promise.jsm/Deferred\n\t   *\n\t   * @memberOf Barba.Utils\n\t   * @return {Deferred}\n\t   */\n\t  deferred: function() {\n\t    return new function() {\n\t      this.resolve = null;\n\t      this.reject = null;\n\t\n\t      this.promise = new Promise(function(resolve, reject) {\n\t        this.resolve = resolve;\n\t        this.reject = reject;\n\t      }.bind(this));\n\t    };\n\t  },\n\t\n\t  /**\n\t   * Return the port number normalized, eventually you can pass a string to be normalized.\n\t   *\n\t   * @memberOf Barba.Utils\n\t   * @private\n\t   * @param  {String} p\n\t   * @return {Int} port\n\t   */\n\t  getPort: function(p) {\n\t    var port = typeof p !== 'undefined' ? p : window.location.port;\n\t    var protocol = window.location.protocol;\n\t\n\t    if (port != '')\n\t      return parseInt(port);\n\t\n\t    if (protocol === 'http:')\n\t      return 80;\n\t\n\t    if (protocol === 'https:')\n\t      return 443;\n\t  }\n\t};\n\t\n\tmodule.exports = Utils;\n\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar Dispatcher = __webpack_require__(7);\n\tvar Utils = __webpack_require__(5);\n\t\n\t/**\n\t * BaseView to be extended\n\t *\n\t * @namespace Barba.BaseView\n\t * @type {Object}\n\t */\n\tvar BaseView  = {\n\t  /**\n\t   * Namespace of the view.\n\t   * (need to be associated with the data-namespace of the container)\n\t   *\n\t   * @memberOf Barba.BaseView\n\t   * @type {String}\n\t   */\n\t  namespace: null,\n\t\n\t  /**\n\t   * Helper to extend the object\n\t   *\n\t   * @memberOf Barba.BaseView\n\t   * @param  {Object} newObject\n\t   * @return {Object} newInheritObject\n\t   */\n\t  extend: function(obj){\n\t    return Utils.extend(this, obj);\n\t  },\n\t\n\t  /**\n\t   * Init the view.\n\t   * P.S. Is suggested to init the view before starting Barba.Pjax.start(),\n\t   * in this way .onEnter() and .onEnterCompleted() will be fired for the current\n\t   * container when the page is loaded.\n\t   *\n\t   * @memberOf Barba.BaseView\n\t   */\n\t  init: function() {\n\t    var _this = this;\n\t\n\t    Dispatcher.on('initStateChange',\n\t      function(newStatus, oldStatus) {\n\t        if (oldStatus && oldStatus.namespace === _this.namespace)\n\t          _this.onLeave();\n\t      }\n\t    );\n\t\n\t    Dispatcher.on('newPageReady',\n\t      function(newStatus, oldStatus, container) {\n\t        _this.container = container;\n\t\n\t        if (newStatus.namespace === _this.namespace)\n\t          _this.onEnter();\n\t      }\n\t    );\n\t\n\t    Dispatcher.on('transitionCompleted',\n\t      function(newStatus, oldStatus) {\n\t        if (newStatus.namespace === _this.namespace)\n\t          _this.onEnterCompleted();\n\t\n\t        if (oldStatus && oldStatus.namespace === _this.namespace)\n\t          _this.onLeaveCompleted();\n\t      }\n\t    );\n\t  },\n\t\n\t /**\n\t  * This function will be fired when the container\n\t  * is ready and attached to the DOM.\n\t  *\n\t  * @memberOf Barba.BaseView\n\t  * @abstract\n\t  */\n\t  onEnter: function() {},\n\t\n\t  /**\n\t   * This function will be fired when the transition\n\t   * to this container has just finished.\n\t   *\n\t   * @memberOf Barba.BaseView\n\t   * @abstract\n\t   */\n\t  onEnterCompleted: function() {},\n\t\n\t  /**\n\t   * This function will be fired when the transition\n\t   * to a new container has just started.\n\t   *\n\t   * @memberOf Barba.BaseView\n\t   * @abstract\n\t   */\n\t  onLeave: function() {},\n\t\n\t  /**\n\t   * This function will be fired when the container\n\t   * has just been removed from the DOM.\n\t   *\n\t   * @memberOf Barba.BaseView\n\t   * @abstract\n\t   */\n\t  onLeaveCompleted: function() {}\n\t}\n\t\n\tmodule.exports = BaseView;\n\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\t/**\n\t * Little Dispatcher inspired by MicroEvent.js\n\t *\n\t * @namespace Barba.Dispatcher\n\t * @type {Object}\n\t */\n\tvar Dispatcher = {\n\t  /**\n\t   * Object that keeps all the events\n\t   *\n\t   * @memberOf Barba.Dispatcher\n\t   * @readOnly\n\t   * @type {Object}\n\t   */\n\t  events: {},\n\t\n\t  /**\n\t   * Bind a callback to an event\n\t   *\n\t   * @memberOf Barba.Dispatcher\n\t   * @param  {String} eventName\n\t   * @param  {Function} function\n\t   */\n\t  on: function(e, f) {\n\t    this.events[e] = this.events[e] || [];\n\t    this.events[e].push(f);\n\t  },\n\t\n\t  /**\n\t   * Unbind event\n\t   *\n\t   * @memberOf Barba.Dispatcher\n\t   * @param  {String} eventName\n\t   * @param  {Function} function\n\t   */\n\t  off: function(e, f) {\n\t    if(e in this.events === false)\n\t      return;\n\t\n\t    this.events[e].splice(this.events[e].indexOf(f), 1);\n\t  },\n\t\n\t  /**\n\t   * Fire the event running all the event associated to it\n\t   *\n\t   * @memberOf Barba.Dispatcher\n\t   * @param  {String} eventName\n\t   * @param  {...*} args\n\t   */\n\t  trigger: function(e) {//e, ...args\n\t    if (e in this.events === false)\n\t      return;\n\t\n\t    for(var i = 0; i < this.events[e].length; i++){\n\t      this.events[e][i].apply(this, Array.prototype.slice.call(arguments, 1));\n\t    }\n\t  }\n\t};\n\t\n\tmodule.exports = Dispatcher;\n\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar Utils = __webpack_require__(5);\n\t\n\t/**\n\t * BaseCache it's a simple static cache\n\t *\n\t * @namespace Barba.BaseCache\n\t * @type {Object}\n\t */\n\tvar BaseCache = {\n\t  /**\n\t   * The Object that keeps all the key value information\n\t   *\n\t   * @memberOf Barba.BaseCache\n\t   * @type {Object}\n\t   */\n\t  data: {},\n\t\n\t  /**\n\t   * Helper to extend this object\n\t   *\n\t   * @memberOf Barba.BaseCache\n\t   * @private\n\t   * @param  {Object} newObject\n\t   * @return {Object} newInheritObject\n\t   */\n\t  extend: function(obj) {\n\t    return Utils.extend(this, obj);\n\t  },\n\t\n\t  /**\n\t   * Set a key and value data, mainly Barba is going to save promises\n\t   *\n\t   * @memberOf Barba.BaseCache\n\t   * @param {String} key\n\t   * @param {*} value\n\t   */\n\t  set: function(key, val) {\n\t    this.data[key] = val;\n\t  },\n\t\n\t  /**\n\t   * Retrieve the data using the key\n\t   *\n\t   * @memberOf Barba.BaseCache\n\t   * @param  {String} key\n\t   * @return {*}\n\t   */\n\t  get: function(key) {\n\t    return this.data[key];\n\t  },\n\t\n\t  /**\n\t   * Flush the cache\n\t   *\n\t   * @memberOf Barba.BaseCache\n\t   */\n\t  reset: function() {\n\t    this.data = {};\n\t  }\n\t};\n\t\n\tmodule.exports = BaseCache;\n\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n\t/**\n\t * HistoryManager helps to keep track of the navigation\n\t *\n\t * @namespace Barba.HistoryManager\n\t * @type {Object}\n\t */\n\tvar HistoryManager = {\n\t  /**\n\t   * Keep track of the status in historic order\n\t   *\n\t   * @memberOf Barba.HistoryManager\n\t   * @readOnly\n\t   * @type {Array}\n\t   */\n\t  history: [],\n\t\n\t  /**\n\t   * Add a new set of url and namespace\n\t   *\n\t   * @memberOf Barba.HistoryManager\n\t   * @param {String} url\n\t   * @param {String} namespace\n\t   * @private\n\t   */\n\t  add: function(url, namespace) {\n\t    if (!namespace)\n\t      namespace = undefined;\n\t\n\t    this.history.push({\n\t      url: url,\n\t      namespace: namespace\n\t    });\n\t  },\n\t\n\t  /**\n\t   * Return information about the current status\n\t   *\n\t   * @memberOf Barba.HistoryManager\n\t   * @return {Object}\n\t   */\n\t  currentStatus: function() {\n\t    return this.history[this.history.length - 1];\n\t  },\n\t\n\t  /**\n\t   * Return information about the previous status\n\t   *\n\t   * @memberOf Barba.HistoryManager\n\t   * @return {Object}\n\t   */\n\t  prevStatus: function() {\n\t    var history = this.history;\n\t\n\t    if (history.length < 2)\n\t      return null;\n\t\n\t    return history[history.length - 2];\n\t  }\n\t};\n\t\n\tmodule.exports = HistoryManager;\n\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar Utils = __webpack_require__(5);\n\tvar Dispatcher = __webpack_require__(7);\n\tvar HideShowTransition = __webpack_require__(11);\n\tvar BaseCache = __webpack_require__(8);\n\t\n\tvar HistoryManager = __webpack_require__(9);\n\tvar Dom = __webpack_require__(12);\n\t\n\t/**\n\t * Pjax is a static object with main function\n\t *\n\t * @namespace Barba.Pjax\n\t * @borrows Dom as Dom\n\t * @type {Object}\n\t */\n\tvar Pjax = {\n\t  Dom: Dom,\n\t  History: HistoryManager,\n\t  Cache: BaseCache,\n\t\n\t  /**\n\t   * Indicate wether or not use the cache\n\t   *\n\t   * @memberOf Barba.Pjax\n\t   * @type {Boolean}\n\t   * @default\n\t   */\n\t  cacheEnabled: true,\n\t\n\t  /**\n\t   * Indicate if there is an animation in progress\n\t   *\n\t   * @memberOf Barba.Pjax\n\t   * @readOnly\n\t   * @type {Boolean}\n\t   */\n\t  transitionProgress: false,\n\t\n\t  /**\n\t   * Class name used to ignore links\n\t   *\n\t   * @memberOf Barba.Pjax\n\t   * @type {String}\n\t   * @default\n\t   */\n\t  ignoreClassLink: 'no-barba',\n\t\n\t  /**\n\t   * Function to be called to start Pjax\n\t   *\n\t   * @memberOf Barba.Pjax\n\t   */\n\t  start: function() {\n\t    this.init();\n\t  },\n\t\n\t  /**\n\t   * Init the events\n\t   *\n\t   * @memberOf Barba.Pjax\n\t   * @private\n\t   */\n\t  init: function() {\n\t    var container = this.Dom.getContainer();\n\t    var wrapper = this.Dom.getWrapper();\n\t\n\t    wrapper.setAttribute('aria-live', 'polite');\n\t\n\t    this.History.add(\n\t      this.getCurrentUrl(),\n\t      this.Dom.getNamespace(container)\n\t    );\n\t\n\t    //Fire for the current view.\n\t    Dispatcher.trigger('initStateChange', this.History.currentStatus());\n\t    Dispatcher.trigger('newPageReady',\n\t      this.History.currentStatus(),\n\t      {},\n\t      container,\n\t      this.Dom.currentHTML\n\t    );\n\t    Dispatcher.trigger('transitionCompleted', this.History.currentStatus());\n\t\n\t    this.bindEvents();\n\t  },\n\t\n\t  /**\n\t   * Attach the eventlisteners\n\t   *\n\t   * @memberOf Barba.Pjax\n\t   * @private\n\t   */\n\t  bindEvents: function() {\n\t    document.addEventListener('click',\n\t      this.onLinkClick.bind(this)\n\t    );\n\t\n\t    window.addEventListener('popstate',\n\t      this.onStateChange.bind(this)\n\t    );\n\t  },\n\t\n\t  /**\n\t   * Return the currentURL cleaned\n\t   *\n\t   * @memberOf Barba.Pjax\n\t   * @return {String} currentUrl\n\t   */\n\t  getCurrentUrl: function() {\n\t    return Utils.cleanLink(\n\t      Utils.getCurrentUrl()\n\t    );\n\t  },\n\t\n\t  /**\n\t   * Change the URL with pushstate and trigger the state change\n\t   *\n\t   * @memberOf Barba.Pjax\n\t   * @param {String} newUrl\n\t   */\n\t  goTo: function(url) {\n\t    window.history.pushState(null, null, url);\n\t    this.onStateChange();\n\t  },\n\t\n\t  /**\n\t   * Force the browser to go to a certain url\n\t   *\n\t   * @memberOf Barba.Pjax\n\t   * @param {String} url\n\t   * @private\n\t   */\n\t  forceGoTo: function(url) {\n\t    window.location = url;\n\t  },\n\t\n\t  /**\n\t   * Load an url, will start an xhr request or load from the cache\n\t   *\n\t   * @memberOf Barba.Pjax\n\t   * @private\n\t   * @param  {String} url\n\t   * @return {Promise}\n\t   */\n\t  load: function(url) {\n\t    var deferred = Utils.deferred();\n\t    var _this = this;\n\t    var xhr;\n\t\n\t    xhr = this.Cache.get(url);\n\t\n\t    if (!xhr) {\n\t      xhr = Utils.xhr(url);\n\t      this.Cache.set(url, xhr);\n\t    }\n\t\n\t    xhr.then(\n\t      function(data) {\n\t        var container = _this.Dom.parseResponse(data);\n\t\n\t        _this.Dom.putContainer(container);\n\t\n\t        if (!_this.cacheEnabled)\n\t          _this.Cache.reset();\n\t\n\t        deferred.resolve(container);\n\t      },\n\t      function() {\n\t        //Something went wrong (timeout, 404, 505...)\n\t        _this.forceGoTo(url);\n\t\n\t        deferred.reject();\n\t      }\n\t    );\n\t\n\t    return deferred.promise;\n\t  },\n\t\n\t  /**\n\t   * Get the .href parameter out of an element\n\t   * and handle special cases (like xlink:href)\n\t   *\n\t   * @private\n\t   * @memberOf Barba.Pjax\n\t   * @param  {HTMLElement} el\n\t   * @return {String} href\n\t   */\n\t  getHref: function(el) {\n\t    if (!el) {\n\t      return undefined;\n\t    }\n\t\n\t    if (el.getAttribute && typeof el.getAttribute('xlink:href') === 'string') {\n\t      return el.getAttribute('xlink:href');\n\t    }\n\t\n\t    if (typeof el.href === 'string') {\n\t      return el.href;\n\t    }\n\t\n\t    return undefined;\n\t  },\n\t\n\t  /**\n\t   * Callback called from click event\n\t   *\n\t   * @memberOf Barba.Pjax\n\t   * @private\n\t   * @param {MouseEvent} evt\n\t   */\n\t  onLinkClick: function(evt) {\n\t    var el = evt.target;\n\t\n\t    //Go up in the nodelist until we\n\t    //find something with an href\n\t    while (el && !this.getHref(el)) {\n\t      el = el.parentNode;\n\t    }\n\t\n\t    if (this.preventCheck(evt, el)) {\n\t      evt.stopPropagation();\n\t      evt.preventDefault();\n\t\n\t      Dispatcher.trigger('linkClicked', el, evt);\n\t\n\t      var href = this.getHref(el);\n\t      this.goTo(href);\n\t    }\n\t  },\n\t\n\t  /**\n\t   * Determine if the link should be followed\n\t   *\n\t   * @memberOf Barba.Pjax\n\t   * @param  {MouseEvent} evt\n\t   * @param  {HTMLElement} element\n\t   * @return {Boolean}\n\t   */\n\t  preventCheck: function(evt, element) {\n\t    if (!window.history.pushState)\n\t      return false;\n\t\n\t    var href = this.getHref(element);\n\t\n\t    //User\n\t    if (!element || !href)\n\t      return false;\n\t\n\t    //Middle click, cmd click, and ctrl click\n\t    if (evt.which > 1 || evt.metaKey || evt.ctrlKey || evt.shiftKey || evt.altKey)\n\t      return false;\n\t\n\t    //Ignore target with _blank target\n\t    if (element.target && element.target === '_blank')\n\t      return false;\n\t\n\t    //Check if it's the same domain\n\t    if (window.location.protocol !== element.protocol || window.location.hostname !== element.hostname)\n\t      return false;\n\t\n\t    //Check if the port is the same\n\t    if (Utils.getPort() !== Utils.getPort(element.port))\n\t      return false;\n\t\n\t    //Ignore case when a hash is being tacked on the current URL\n\t    if (href.indexOf('#') > -1)\n\t      return false;\n\t\n\t    //Ignore case where there is download attribute\n\t    if (element.getAttribute && typeof element.getAttribute('download') === 'string')\n\t      return false;\n\t\n\t    //In case you're trying to load the same page\n\t    if (Utils.cleanLink(href) == Utils.cleanLink(location.href))\n\t      return false;\n\t\n\t    if (element.classList.contains(this.ignoreClassLink))\n\t      return false;\n\t\n\t    return true;\n\t  },\n\t\n\t  /**\n\t   * Return a transition object\n\t   *\n\t   * @memberOf Barba.Pjax\n\t   * @return {Barba.Transition} Transition object\n\t   */\n\t  getTransition: function() {\n\t    //User customizable\n\t    return HideShowTransition;\n\t  },\n\t\n\t  /**\n\t   * Method called after a 'popstate' or from .goTo()\n\t   *\n\t   * @memberOf Barba.Pjax\n\t   * @private\n\t   */\n\t  onStateChange: function() {\n\t    var newUrl = this.getCurrentUrl();\n\t\n\t    if (this.transitionProgress)\n\t      this.forceGoTo(newUrl);\n\t\n\t    if (this.History.currentStatus().url === newUrl)\n\t      return false;\n\t\n\t    this.History.add(newUrl);\n\t\n\t    var newContainer = this.load(newUrl);\n\t    var transition = Object.create(this.getTransition());\n\t\n\t    this.transitionProgress = true;\n\t\n\t    Dispatcher.trigger('initStateChange',\n\t      this.History.currentStatus(),\n\t      this.History.prevStatus()\n\t    );\n\t\n\t    var transitionInstance = transition.init(\n\t      this.Dom.getContainer(),\n\t      newContainer\n\t    );\n\t\n\t    newContainer.then(\n\t      this.onNewContainerLoaded.bind(this)\n\t    );\n\t\n\t    transitionInstance.then(\n\t      this.onTransitionEnd.bind(this)\n\t    );\n\t  },\n\t\n\t  /**\n\t   * Function called as soon the new container is ready\n\t   *\n\t   * @memberOf Barba.Pjax\n\t   * @private\n\t   * @param {HTMLElement} container\n\t   */\n\t  onNewContainerLoaded: function(container) {\n\t    var currentStatus = this.History.currentStatus();\n\t    currentStatus.namespace = this.Dom.getNamespace(container);\n\t\n\t    Dispatcher.trigger('newPageReady',\n\t      this.History.currentStatus(),\n\t      this.History.prevStatus(),\n\t      container,\n\t      this.Dom.currentHTML\n\t    );\n\t  },\n\t\n\t  /**\n\t   * Function called as soon the transition is finished\n\t   *\n\t   * @memberOf Barba.Pjax\n\t   * @private\n\t   */\n\t  onTransitionEnd: function() {\n\t    this.transitionProgress = false;\n\t\n\t    Dispatcher.trigger('transitionCompleted',\n\t      this.History.currentStatus(),\n\t      this.History.prevStatus()\n\t    );\n\t  }\n\t};\n\t\n\tmodule.exports = Pjax;\n\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar BaseTransition = __webpack_require__(4);\n\t\n\t/**\n\t * Basic Transition object, wait for the new Container to be ready,\n\t * scroll top, and finish the transition (removing the old container and displaying the new one)\n\t *\n\t * @private\n\t * @namespace Barba.HideShowTransition\n\t * @augments Barba.BaseTransition\n\t */\n\tvar HideShowTransition = BaseTransition.extend({\n\t  start: function() {\n\t    this.newContainerLoading.then(this.finish.bind(this));\n\t  },\n\t\n\t  finish: function() {\n\t    document.body.scrollTop = 0;\n\t    this.done();\n\t  }\n\t});\n\t\n\tmodule.exports = HideShowTransition;\n\n\n/***/ },\n/* 12 */\n/***/ function(module, exports) {\n\n\t/**\n\t * Object that is going to deal with DOM parsing/manipulation\n\t *\n\t * @namespace Barba.Pjax.Dom\n\t * @type {Object}\n\t */\n\tvar Dom = {\n\t  /**\n\t   * The name of the data attribute on the container\n\t   *\n\t   * @memberOf Barba.Pjax.Dom\n\t   * @type {String}\n\t   * @default\n\t   */\n\t  dataNamespace: 'namespace',\n\t\n\t  /**\n\t   * Id of the main wrapper\n\t   *\n\t   * @memberOf Barba.Pjax.Dom\n\t   * @type {String}\n\t   * @default\n\t   */\n\t  wrapperId: 'barba-wrapper',\n\t\n\t  /**\n\t   * Class name used to identify the containers\n\t   *\n\t   * @memberOf Barba.Pjax.Dom\n\t   * @type {String}\n\t   * @default\n\t   */\n\t  containerClass: 'barba-container',\n\t\n\t  /**\n\t   * Full HTML String of the current page.\n\t   * By default is the innerHTML of the initial loaded page.\n\t   *\n\t   * Each time a new page is loaded, the value is the response of the xhr call.\n\t   *\n\t   * @memberOf Barba.Pjax.Dom\n\t   * @type {String}\n\t   */\n\t  currentHTML: document.documentElement.innerHTML,\n\t\n\t  /**\n\t   * Parse the responseText obtained from the xhr call\n\t   *\n\t   * @memberOf Barba.Pjax.Dom\n\t   * @private\n\t   * @param  {String} responseText\n\t   * @return {HTMLElement}\n\t   */\n\t  parseResponse: function(responseText) {\n\t    this.currentHTML = responseText;\n\t\n\t    var wrapper = document.createElement('div');\n\t    wrapper.innerHTML = responseText;\n\t\n\t    var titleEl = wrapper.querySelector('title');\n\t\n\t    if (titleEl)\n\t      document.title = titleEl.textContent;\n\t\n\t    return this.getContainer(wrapper);\n\t  },\n\t\n\t  /**\n\t   * Get the main barba wrapper by the ID `wrapperId`\n\t   *\n\t   * @memberOf Barba.Pjax.Dom\n\t   * @return {HTMLElement} element\n\t   */\n\t  getWrapper: function() {\n\t    var wrapper = document.getElementById(this.wrapperId);\n\t\n\t    if (!wrapper)\n\t      throw new Error('Barba.js: wrapper not found!');\n\t\n\t    return wrapper;\n\t  },\n\t\n\t  /**\n\t   * Get the container on the current DOM,\n\t   * or from an HTMLElement passed via argument\n\t   *\n\t   * @memberOf Barba.Pjax.Dom\n\t   * @private\n\t   * @param  {HTMLElement} element\n\t   * @return {HTMLElement}\n\t   */\n\t  getContainer: function(element) {\n\t    if (!element)\n\t      element = document.body;\n\t\n\t    if (!element)\n\t      throw new Error('Barba.js: DOM not ready!');\n\t\n\t    var container = this.parseContainer(element);\n\t\n\t    if (container && container.jquery)\n\t      container = container[0];\n\t\n\t    if (!container)\n\t      throw new Error('Barba.js: no container found');\n\t\n\t    return container;\n\t  },\n\t\n\t  /**\n\t   * Get the namespace of the container\n\t   *\n\t   * @memberOf Barba.Pjax.Dom\n\t   * @private\n\t   * @param  {HTMLElement} element\n\t   * @return {String}\n\t   */\n\t  getNamespace: function(element) {\n\t    if (element && element.dataset) {\n\t      return element.dataset[this.dataNamespace];\n\t    } else if (element) {\n\t      return element.getAttribute('data-' + this.dataNamespace);\n\t    }\n\t\n\t    return null;\n\t  },\n\t\n\t  /**\n\t   * Put the container on the page\n\t   *\n\t   * @memberOf Barba.Pjax.Dom\n\t   * @private\n\t   * @param  {HTMLElement} element\n\t   */\n\t  putContainer: function(element) {\n\t    element.style.visibility = 'hidden';\n\t\n\t    var wrapper = this.getWrapper();\n\t    wrapper.appendChild(element);\n\t  },\n\t\n\t  /**\n\t   * Get container selector\n\t   *\n\t   * @memberOf Barba.Pjax.Dom\n\t   * @private\n\t   * @param  {HTMLElement} element\n\t   * @return {HTMLElement} element\n\t   */\n\t  parseContainer: function(element) {\n\t    return element.querySelector('.' + this.containerClass);\n\t  }\n\t};\n\t\n\tmodule.exports = Dom;\n\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar Utils = __webpack_require__(5);\n\tvar Pjax = __webpack_require__(10);\n\t\n\t/**\n\t * Prefetch\n\t *\n\t * @namespace Barba.Prefetch\n\t * @type {Object}\n\t */\n\tvar Prefetch = {\n\t  /**\n\t   * Class name used to ignore prefetch on links\n\t   *\n\t   * @memberOf Barba.Prefetch\n\t   * @type {String}\n\t   * @default\n\t   */\n\t  ignoreClassLink: 'no-barba-prefetch',\n\t\n\t  /**\n\t   * Init the event listener on mouseover and touchstart\n\t   * for the prefetch\n\t   *\n\t   * @memberOf Barba.Prefetch\n\t   */\n\t  init: function() {\n\t    if (!window.history.pushState) {\n\t      return false;\n\t    }\n\t\n\t    document.body.addEventListener('mouseover', this.onLinkEnter.bind(this));\n\t    document.body.addEventListener('touchstart', this.onLinkEnter.bind(this));\n\t  },\n\t\n\t  /**\n\t   * Callback for the mousehover/touchstart\n\t   *\n\t   * @memberOf Barba.Prefetch\n\t   * @private\n\t   * @param  {Object} evt\n\t   */\n\t  onLinkEnter: function(evt) {\n\t    var el = evt.target;\n\t\n\t    while (el && !Pjax.getHref(el)) {\n\t      el = el.parentNode;\n\t    }\n\t\n\t    if (!el || el.classList.contains(this.ignoreClassLink)) {\n\t      return;\n\t    }\n\t\n\t    var url = Pjax.getHref(el);\n\t\n\t    //Check if the link is elegible for Pjax\n\t    if (Pjax.preventCheck(evt, el) && !Pjax.Cache.get(url)) {\n\t      var xhr = Utils.xhr(url);\n\t      Pjax.Cache.set(url, xhr);\n\t    }\n\t  }\n\t};\n\t\n\tmodule.exports = Prefetch;\n\n\n/***/ }\n/******/ ])\n});\n;\n//# sourceMappingURL=barba.js.map","/*!\n * Viewer.js v0.10.0\n * https://github.com/fengyuanchen/viewerjs\n *\n * Copyright (c) 2015-2017 Chen Fengyuan\n * Released under the MIT license\n *\n * Date: 2017-11-05T04:38:31.466Z\n */\n\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.Viewer = factory());\n}(this, (function () { 'use strict';\n\nvar DEFAULTS = {\n  // Enable inline mode\n  inline: false,\n\n  // Show the button on the top-right of the viewer\n  button: true,\n\n  // Show the navbar\n  navbar: true,\n\n  // Show the title\n  title: true,\n\n  // Show the toolbar\n  toolbar: true,\n\n  // Show the tooltip with image ratio (percentage) when zoom in or zoom out\n  tooltip: true,\n\n  // Enable to move the image\n  movable: true,\n\n  // Enable to zoom the image\n  zoomable: true,\n\n  // Enable to rotate the image\n  rotatable: true,\n\n  // Enable to scale the image\n  scalable: true,\n\n  // Enable CSS3 Transition for some special elements\n  transition: true,\n\n  // Enable to request fullscreen when play\n  fullscreen: true,\n\n  // Enable keyboard support\n  keyboard: true,\n\n  // Enable loop viewing.\n  loop: false,\n\n  // Min width of the viewer in inline mode\n  minWidth: 200,\n\n  // Min height of the viewer in inline mode\n  minHeight: 100,\n\n  // Define the ratio when zoom the image by wheeling mouse\n  zoomRatio: 0.1,\n\n  // Define the min ratio of the image when zoom out\n  minZoomRatio: 0.01,\n\n  // Define the max ratio of the image when zoom in\n  maxZoomRatio: 100,\n\n  // Define the CSS `z-index` value of viewer in modal mode.\n  zIndex: 2015,\n\n  // Define the CSS `z-index` value of viewer in inline mode.\n  zIndexInline: 0,\n\n  // Define where to get the original image URL for viewing\n  // Type: String (an image attribute) or Function (should return an image URL)\n  url: 'src',\n\n  // Filter the images for viewing.\n  // Type: Function (return true if the image is viewable)\n  filter: null,\n\n  // Event shortcuts\n  ready: null,\n  show: null,\n  shown: null,\n  hide: null,\n  hidden: null,\n  view: null,\n  viewed: null\n};\n\nvar TEMPLATE = '<div class=\"viewer-container\">' + '<div class=\"viewer-canvas\"></div>' + '<div class=\"viewer-footer\">' + '<div class=\"viewer-title\"></div>' + '<div class=\"viewer-toolbar\"></div>' + '<div class=\"viewer-navbar\">' + '<ul class=\"viewer-list\"></ul>' + '</div>' + '</div>' + '<div class=\"viewer-tooltip\"></div>' + '<div role=\"button\" class=\"viewer-button\" data-action=\"mix\"></div>' + '<div class=\"viewer-player\"></div>' + '</div>';\n\nvar WINDOW = typeof window !== 'undefined' ? window : {};\nvar NAMESPACE = 'viewer';\n\n// Actions\nvar ACTION_MOVE = 'move';\nvar ACTION_SWITCH = 'switch';\nvar ACTION_ZOOM = 'zoom';\n\n// Classes\nvar CLASS_ACTIVE = NAMESPACE + '-active';\nvar CLASS_CLOSE = NAMESPACE + '-close';\nvar CLASS_FADE = NAMESPACE + '-fade';\nvar CLASS_FIXED = NAMESPACE + '-fixed';\nvar CLASS_FULLSCREEN = NAMESPACE + '-fullscreen';\nvar CLASS_FULLSCREEN_EXIT = NAMESPACE + '-fullscreen-exit';\nvar CLASS_HIDE = NAMESPACE + '-hide';\nvar CLASS_HIDE_MD_DOWN = NAMESPACE + '-hide-md-down';\nvar CLASS_HIDE_SM_DOWN = NAMESPACE + '-hide-sm-down';\nvar CLASS_HIDE_XS_DOWN = NAMESPACE + '-hide-xs-down';\nvar CLASS_IN = NAMESPACE + '-in';\nvar CLASS_INVISIBLE = NAMESPACE + '-invisible';\nvar CLASS_MOVE = NAMESPACE + '-move';\nvar CLASS_OPEN = NAMESPACE + '-open';\nvar CLASS_SHOW = NAMESPACE + '-show';\nvar CLASS_TRANSITION = NAMESPACE + '-transition';\n\n// Events\nvar EVENT_READY = 'ready';\nvar EVENT_SHOW = 'show';\nvar EVENT_SHOWN = 'shown';\nvar EVENT_HIDE = 'hide';\nvar EVENT_HIDDEN = 'hidden';\nvar EVENT_VIEW = 'view';\nvar EVENT_VIEWED = 'viewed';\nvar EVENT_CLICK = 'click';\nvar EVENT_DRAG_START = 'dragstart';\nvar EVENT_KEY_DOWN = 'keydown';\nvar EVENT_LOAD = 'load';\nvar EVENT_POINTER_DOWN = WINDOW.PointerEvent ? 'pointerdown' : 'touchstart mousedown';\nvar EVENT_POINTER_MOVE = WINDOW.PointerEvent ? 'pointermove' : 'mousemove touchmove';\nvar EVENT_POINTER_UP = WINDOW.PointerEvent ? 'pointerup pointercancel' : 'touchend touchcancel mouseup';\nvar EVENT_RESIZE = 'resize';\nvar EVENT_TRANSITION_END = 'transitionend';\nvar EVENT_WHEEL = 'wheel mousewheel DOMMouseScroll';\n\nvar BUTTONS = ['zoom-in', 'zoom-out', 'one-to-one', 'reset', 'prev', 'play', 'next', 'rotate-left', 'rotate-right', 'flip-horizontal', 'flip-vertical'];\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/**\n * Check if the given value is a string.\n * @param {*} value - The value to check.\n * @returns {boolean} Returns `true` if the given value is a string, else `false`.\n */\nfunction isString(value) {\n  return typeof value === 'string';\n}\n\n/**\n * Check if the given value is not a number.\n */\nvar isNaN = Number.isNaN || WINDOW.isNaN;\n\n/**\n * Check if the given value is a number.\n * @param {*} value - The value to check.\n * @returns {boolean} Returns `true` if the given value is a number, else `false`.\n */\nfunction isNumber(value) {\n  return typeof value === 'number' && !isNaN(value);\n}\n\n/**\n * Check if the given value is undefined.\n * @param {*} value - The value to check.\n * @returns {boolean} Returns `true` if the given value is undefined, else `false`.\n */\nfunction isUndefined(value) {\n  return typeof value === 'undefined';\n}\n\n/**\n * Check if the given value is an object.\n * @param {*} value - The value to check.\n * @returns {boolean} Returns `true` if the given value is an object, else `false`.\n */\nfunction isObject(value) {\n  return (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && value !== null;\n}\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\n/**\n * Check if the given value is a plain object.\n * @param {*} value - The value to check.\n * @returns {boolean} Returns `true` if the given value is a plain object, else `false`.\n */\n\nfunction isPlainObject(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n\n  try {\n    var _constructor = value.constructor;\n    var prototype = _constructor.prototype;\n\n\n    return _constructor && prototype && hasOwnProperty.call(prototype, 'isPrototypeOf');\n  } catch (e) {\n    return false;\n  }\n}\n\n/**\n * Check if the given value is a function.\n * @param {*} value - The value to check.\n * @returns {boolean} Returns `true` if the given value is a function, else `false`.\n */\nfunction isFunction(value) {\n  return typeof value === 'function';\n}\n\n/**\n * Iterate the given data.\n * @param {*} data - The data to iterate.\n * @param {Function} callback - The process function for each element.\n * @returns {*} The original data.\n */\nfunction each(data, callback) {\n  if (data && isFunction(callback)) {\n    if (Array.isArray(data) || isNumber(data.length) /* array-like */) {\n        var length = data.length;\n\n        var i = void 0;\n\n        for (i = 0; i < length; i += 1) {\n          if (callback.call(data, data[i], i, data) === false) {\n            break;\n          }\n        }\n      } else if (isObject(data)) {\n      Object.keys(data).forEach(function (key) {\n        callback.call(data, data[key], key, data);\n      });\n    }\n  }\n\n  return data;\n}\n\n/**\n * Extend the given object.\n * @param {*} obj - The object to be extended.\n * @param {*} args - The rest objects which will be merged to the first object.\n * @returns {Object} The extended object.\n */\nfunction extend(obj) {\n  for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  if (isObject(obj) && args.length > 0) {\n    if (Object.assign) {\n      return Object.assign.apply(Object, [obj].concat(args));\n    }\n\n    args.forEach(function (arg) {\n      if (isObject(arg)) {\n        Object.keys(arg).forEach(function (key) {\n          obj[key] = arg[key];\n        });\n      }\n    });\n  }\n\n  return obj;\n}\n\n/**\n * Takes a function and returns a new one that will always have a particular context.\n * @param {Function} fn - The target function.\n * @param {Object} context - The new context for the function.\n * @returns {Function} The new function.\n */\nfunction proxy(fn, context) {\n  for (var _len2 = arguments.length, args = Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n    args[_key2 - 2] = arguments[_key2];\n  }\n\n  return function () {\n    for (var _len3 = arguments.length, args2 = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args2[_key3] = arguments[_key3];\n    }\n\n    return fn.apply(context, args.concat(args2));\n  };\n}\n\nvar REGEXP_SUFFIX = /^(width|height|left|top|marginLeft|marginTop)$/;\n\n/**\n * Apply styles to the given element.\n * @param {Element} element - The target element.\n * @param {Object} styles - The styles for applying.\n */\nfunction setStyle(element, styles) {\n  var style = element.style;\n\n\n  each(styles, function (value, property) {\n    if (REGEXP_SUFFIX.test(property) && isNumber(value)) {\n      value += 'px';\n    }\n\n    style[property] = value;\n  });\n}\n\n/**\n * Get the styles from the given element.\n * @param {Element} element - The target element.\n * @returns {Object} The styles of the element.\n */\nfunction getStyle(element) {\n  return window.getComputedStyle ? window.getComputedStyle(element, null) : element.currentStyle;\n}\n\n/**\n * Check if the given element has a special class.\n * @param {Element} element - The element to check.\n * @param {string} value - The class to search.\n * @returns {boolean} Returns `true` if the special class was found.\n */\nfunction hasClass(element, value) {\n  return element.classList ? element.classList.contains(value) : element.className.indexOf(value) > -1;\n}\n\n/**\n * Add classes to the given element.\n * @param {Element} element - The target element.\n * @param {string} value - The classes to be added.\n */\nfunction addClass(element, value) {\n  if (!value) {\n    return;\n  }\n\n  if (isNumber(element.length)) {\n    each(element, function (elem) {\n      addClass(elem, value);\n    });\n    return;\n  }\n\n  if (element.classList) {\n    element.classList.add(value);\n    return;\n  }\n\n  var className = element.className.trim();\n\n  if (!className) {\n    element.className = value;\n  } else if (className.indexOf(value) < 0) {\n    element.className = className + ' ' + value;\n  }\n}\n\n/**\n * Remove classes from the given element.\n * @param {Element} element - The target element.\n * @param {string} value - The classes to be removed.\n */\nfunction removeClass(element, value) {\n  if (!value) {\n    return;\n  }\n\n  if (isNumber(element.length)) {\n    each(element, function (elem) {\n      removeClass(elem, value);\n    });\n    return;\n  }\n\n  if (element.classList) {\n    element.classList.remove(value);\n    return;\n  }\n\n  if (element.className.indexOf(value) >= 0) {\n    element.className = element.className.replace(value, '');\n  }\n}\n\n/**\n * Add or remove classes from the given element.\n * @param {Element} element - The target element.\n * @param {string} value - The classes to be toggled.\n * @param {boolean} added - Add only.\n */\nfunction toggleClass(element, value, added) {\n  if (!value) {\n    return;\n  }\n\n  if (isNumber(element.length)) {\n    each(element, function (elem) {\n      toggleClass(elem, value, added);\n    });\n    return;\n  }\n\n  // IE10-11 doesn't support the second parameter of `classList.toggle`\n  if (added) {\n    addClass(element, value);\n  } else {\n    removeClass(element, value);\n  }\n}\n\nvar REGEXP_HYPHENATE = /([a-z\\d])([A-Z])/g;\n\n/**\n * Hyphenate the given value.\n * @param {string} value - The value to hyphenate.\n * @returns {string} The hyphenated value.\n */\nfunction hyphenate(value) {\n  return value.replace(REGEXP_HYPHENATE, '$1-$2').toLowerCase();\n}\n\n/**\n * Get data from the given element.\n * @param {Element} element - The target element.\n * @param {string} name - The data key to get.\n * @returns {string} The data value.\n */\nfunction getData(element, name) {\n  if (isObject(element[name])) {\n    return element[name];\n  } else if (element.dataset) {\n    return element.dataset[name];\n  }\n\n  return element.getAttribute('data-' + hyphenate(name));\n}\n\n/**\n * Set data to the given element.\n * @param {Element} element - The target element.\n * @param {string} name - The data key to set.\n * @param {string} data - The data value.\n */\nfunction setData(element, name, data) {\n  if (isObject(data)) {\n    element[name] = data;\n  } else if (element.dataset) {\n    element.dataset[name] = data;\n  } else {\n    element.setAttribute('data-' + hyphenate(name), data);\n  }\n}\n\n/**\n * Remove data from the given element.\n * @param {Element} element - The target element.\n * @param {string} name - The data key to remove.\n */\nfunction removeData(element, name) {\n  if (isObject(element[name])) {\n    delete element[name];\n  } else if (element.dataset) {\n    // #128 Safari not allows to delete dataset property\n    try {\n      delete element.dataset[name];\n    } catch (e) {\n      element.dataset[name] = null;\n    }\n  } else {\n    element.removeAttribute('data-' + hyphenate(name));\n  }\n}\n\nvar REGEXP_SPACES = /\\s+/;\n\n/**\n * Remove event listener from the target element.\n * @param {Element} element - The event target.\n * @param {string} type - The event type(s).\n * @param {Function} listener - The event listener.\n * @param {Object} options - The event options.\n */\nfunction removeListener(element, type, listener) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n  if (!isFunction(listener)) {\n    return;\n  }\n\n  var types = type.trim().split(REGEXP_SPACES);\n\n  if (types.length > 1) {\n    each(types, function (t) {\n      removeListener(element, t, listener, options);\n    });\n    return;\n  }\n\n  if (element.removeEventListener) {\n    element.removeEventListener(type, listener, options);\n  } else if (element.detachEvent) {\n    element.detachEvent('on' + type, listener);\n  }\n}\n\n/**\n * Add event listener to the target element.\n * @param {Element} element - The event target.\n * @param {string} type - The event type(s).\n * @param {Function} listener - The event listener.\n * @param {Object} options - The event options.\n */\nfunction addListener(element, type, _listener) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n  if (!isFunction(_listener)) {\n    return;\n  }\n\n  var types = type.trim().split(REGEXP_SPACES);\n\n  if (types.length > 1) {\n    each(types, function (t) {\n      addListener(element, t, _listener, options);\n    });\n    return;\n  }\n\n  if (options.once) {\n    var originalListener = _listener;\n\n    _listener = function listener() {\n      for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n\n      removeListener(element, type, _listener, options);\n      return originalListener.apply(element, args);\n    };\n  }\n\n  if (element.addEventListener) {\n    element.addEventListener(type, _listener, options);\n  } else if (element.attachEvent) {\n    element.attachEvent('on' + type, _listener);\n  }\n}\n\n/**\n * Dispatch event on the target element.\n * @param {Element} element - The event target.\n * @param {string} type - The event type(s).\n * @param {Object} data - The additional event data.\n * @returns {boolean} Indicate if the event is default prevented or not.\n */\nfunction dispatchEvent(element, type, data) {\n  if (element.dispatchEvent) {\n    var event = void 0;\n\n    // Event and CustomEvent on IE9-11 are global objects, not constructors\n    if (isFunction(Event) && isFunction(CustomEvent)) {\n      if (isUndefined(data)) {\n        event = new Event(type, {\n          bubbles: true,\n          cancelable: true\n        });\n      } else {\n        event = new CustomEvent(type, {\n          detail: data,\n          bubbles: true,\n          cancelable: true\n        });\n      }\n    } else if (isUndefined(data)) {\n      event = document.createEvent('Event');\n      event.initEvent(type, true, true);\n    } else {\n      event = document.createEvent('CustomEvent');\n      event.initCustomEvent(type, true, true, data);\n    }\n\n    // IE9+\n    return element.dispatchEvent(event);\n  } else if (element.fireEvent) {\n    // IE6-10 (native events only)\n    return element.fireEvent('on' + type);\n  }\n\n  return true;\n}\n\n/**\n * Get the offset base on the document.\n * @param {Element} element - The target element.\n * @returns {Object} The offset data.\n */\nfunction getOffset(element) {\n  var doc = document.documentElement;\n  var box = element.getBoundingClientRect();\n\n  return {\n    left: box.left + ((window.scrollX || doc && doc.scrollLeft || 0) - (doc && doc.clientLeft || 0)),\n    top: box.top + ((window.scrollY || doc && doc.scrollTop || 0) - (doc && doc.clientTop || 0))\n  };\n}\n\n/**\n * Empty an element.\n * @param {Element} element - The element to empty.\n */\nfunction empty(element) {\n  while (element.firstChild) {\n    element.removeChild(element.firstChild);\n  }\n}\n\n/**\n * Get transforms base on the given object.\n * @param {Object} obj - The target object.\n * @returns {string} A string contains transform values.\n */\nfunction getTransforms(_ref) {\n  var rotate = _ref.rotate,\n      scaleX = _ref.scaleX,\n      scaleY = _ref.scaleY;\n\n  var values = [];\n\n  if (isNumber(rotate) && rotate !== 0) {\n    values.push('rotate(' + rotate + 'deg)');\n  }\n\n  if (isNumber(scaleX) && scaleX !== 1) {\n    values.push('scaleX(' + scaleX + ')');\n  }\n\n  if (isNumber(scaleY) && scaleY !== 1) {\n    values.push('scaleY(' + scaleY + ')');\n  }\n\n  var transform = values.length ? values.join(' ') : 'none';\n\n  return {\n    WebkitTransform: transform,\n    msTransform: transform,\n    transform: transform\n  };\n}\n\n/**\n * Get an image name from an image url.\n * @param {string} url - The target url.\n * @example\n * // picture.jpg\n * getImageNameFromURL('http://domain.com/path/to/picture.jpg?size=1280×960')\n * @returns {string} A string contains the image name.\n */\nfunction getImageNameFromURL(url) {\n  return isString(url) ? url.replace(/^.*\\//, '').replace(/[?&#].*$/, '') : '';\n}\n\nvar navigator = WINDOW.navigator;\n\nvar IS_SAFARI_OR_UIWEBVIEW = navigator && /(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i.test(navigator.userAgent);\n\n/**\n * Get an image's natural sizes.\n * @param {string} image - The target image.\n * @param {Function} callback - The callback function.\n */\nfunction getImageNaturalSizes(image, callback) {\n  // Modern browsers (except Safari)\n  if (image.naturalWidth && !IS_SAFARI_OR_UIWEBVIEW) {\n    callback(image.naturalWidth, image.naturalHeight);\n    return;\n  }\n\n  var newImage = document.createElement('img');\n\n  newImage.onload = function () {\n    callback(newImage.width, newImage.height);\n  };\n\n  newImage.src = image.src;\n}\n\n/**\n * Get the related class name of a responsive type number.\n * @param {string} type - The responsive type.\n * @returns {string} The related class name.\n */\nfunction getResponsiveClass(type) {\n  switch (type) {\n    case 2:\n      return CLASS_HIDE_XS_DOWN;\n\n    case 3:\n      return CLASS_HIDE_SM_DOWN;\n\n    case 4:\n      return CLASS_HIDE_MD_DOWN;\n\n    default:\n      return '';\n  }\n}\n\n/**\n * Get the max ratio of a group of pointers.\n * @param {string} pointers - The target pointers.\n * @returns {number} The result ratio.\n */\nfunction getMaxZoomRatio(pointers) {\n  var pointers2 = extend({}, pointers);\n  var ratios = [];\n\n  each(pointers, function (pointer, pointerId) {\n    delete pointers2[pointerId];\n\n    each(pointers2, function (pointer2) {\n      var x1 = Math.abs(pointer.startX - pointer2.startX);\n      var y1 = Math.abs(pointer.startY - pointer2.startY);\n      var x2 = Math.abs(pointer.endX - pointer2.endX);\n      var y2 = Math.abs(pointer.endY - pointer2.endY);\n      var z1 = Math.sqrt(x1 * x1 + y1 * y1);\n      var z2 = Math.sqrt(x2 * x2 + y2 * y2);\n      var ratio = (z2 - z1) / z1;\n\n      ratios.push(ratio);\n    });\n  });\n\n  ratios.sort(function (a, b) {\n    return Math.abs(a) < Math.abs(b);\n  });\n\n  return ratios[0];\n}\n\n/**\n * Get a pointer from an event object.\n * @param {Object} event - The target event object.\n * @param {boolean} endOnly - Indicates if only returns the end point coordinate or not.\n * @returns {Object} The result pointer contains start and/or end point coordinates.\n */\nfunction getPointer(_ref2, endOnly) {\n  var pageX = _ref2.pageX,\n      pageY = _ref2.pageY;\n\n  var end = {\n    endX: pageX,\n    endY: pageY\n  };\n\n  if (endOnly) {\n    return end;\n  }\n\n  return extend({\n    startX: pageX,\n    startY: pageY\n  }, end);\n}\n\n/**\n * Get the center point coordinate of a group of pointers.\n * @param {Object} pointers - The target pointers.\n * @returns {Object} The center point coordinate.\n */\nfunction getPointersCenter(pointers) {\n  var pageX = 0;\n  var pageY = 0;\n  var count = 0;\n\n  each(pointers, function (_ref3) {\n    var startX = _ref3.startX,\n        startY = _ref3.startY;\n\n    pageX += startX;\n    pageY += startY;\n    count += 1;\n  });\n\n  pageX /= count;\n  pageY /= count;\n\n  return {\n    pageX: pageX,\n    pageY: pageY\n  };\n}\n\nvar render = {\n  render: function render() {\n    this.initContainer();\n    this.initViewer();\n    this.initList();\n    this.renderViewer();\n  },\n  initContainer: function initContainer() {\n    this.containerData = {\n      width: window.innerWidth,\n      height: window.innerHeight\n    };\n  },\n  initViewer: function initViewer() {\n    var options = this.options,\n        parent = this.parent;\n\n    var viewerData = void 0;\n\n    if (options.inline) {\n      viewerData = {\n        width: Math.max(parent.offsetWidth, options.minWidth),\n        height: Math.max(parent.offsetHeight, options.minHeight)\n      };\n\n      this.parentData = viewerData;\n    }\n\n    if (this.fulled || !viewerData) {\n      viewerData = this.containerData;\n    }\n\n    this.viewerData = extend({}, viewerData);\n  },\n  renderViewer: function renderViewer() {\n    if (this.options.inline && !this.fulled) {\n      setStyle(this.viewer, this.viewerData);\n    }\n  },\n  initList: function initList() {\n    var _this = this;\n\n    var element = this.element,\n        options = this.options,\n        list = this.list;\n\n    var items = [];\n\n    each(this.images, function (image, i) {\n      var src = image.src;\n\n      var alt = image.alt || getImageNameFromURL(src);\n      var url = options.url;\n\n\n      if (isString(url)) {\n        url = image.getAttribute(url);\n      } else if (isFunction(url)) {\n        url = url.call(image, image);\n      }\n\n      if (src || url) {\n        items.push('<li>' + '<img' + (' src=\"' + (src || url) + '\"') + ' role=\"button\"' + ' data-action=\"view\"' + (' data-index=\"' + i + '\"') + (' data-original-url=\"' + (url || src) + '\"') + (' alt=\"' + alt + '\"') + '>' + '</li>');\n      }\n    });\n\n    list.innerHTML = items.join('');\n\n    each(list.getElementsByTagName('img'), function (image) {\n      setData(image, 'filled', true);\n      addListener(image, EVENT_LOAD, proxy(_this.loadImage, _this), {\n        once: true\n      });\n    });\n\n    this.items = list.getElementsByTagName('li');\n\n    if (options.transition) {\n      addListener(element, EVENT_VIEWED, function () {\n        addClass(list, CLASS_TRANSITION);\n      }, {\n        once: true\n      });\n    }\n  },\n  renderList: function renderList(index) {\n    var i = index || this.index;\n    var width = this.items[i].offsetWidth || 30;\n    var outerWidth = width + 1; // 1 pixel of `margin-left` width\n\n    // Place the active item in the center of the screen\n    setStyle(this.list, {\n      width: outerWidth * this.length,\n      marginLeft: (this.viewerData.width - width) / 2 - outerWidth * i\n    });\n  },\n  resetList: function resetList() {\n    empty(this.list);\n    removeClass(this.list, CLASS_TRANSITION);\n    setStyle({\n      marginLeft: 0\n    });\n  },\n  initImage: function initImage(callback) {\n    var _this2 = this;\n\n    var options = this.options,\n        image = this.image,\n        viewerData = this.viewerData;\n\n    var footerHeight = this.footer.offsetHeight;\n    var viewerWidth = viewerData.width;\n    var viewerHeight = Math.max(viewerData.height - footerHeight, footerHeight);\n    var oldImageData = this.ImageData || {};\n\n    getImageNaturalSizes(image, function (naturalWidth, naturalHeight) {\n      var aspectRatio = naturalWidth / naturalHeight;\n      var width = viewerWidth;\n      var height = viewerHeight;\n\n      if (viewerHeight * aspectRatio > viewerWidth) {\n        height = viewerWidth / aspectRatio;\n      } else {\n        width = viewerHeight * aspectRatio;\n      }\n\n      width = Math.min(width * 0.9, naturalWidth);\n      height = Math.min(height * 0.9, naturalHeight);\n\n      var imageData = {\n        naturalWidth: naturalWidth,\n        naturalHeight: naturalHeight,\n        aspectRatio: aspectRatio,\n        ratio: width / naturalWidth,\n        width: width,\n        height: height,\n        left: (viewerWidth - width) / 2,\n        top: (viewerHeight - height) / 2\n      };\n      var initialImageData = extend({}, imageData);\n\n      if (options.rotatable) {\n        imageData.rotate = oldImageData.rotate || 0;\n        initialImageData.rotate = 0;\n      }\n\n      if (options.scalable) {\n        imageData.scaleX = oldImageData.scaleX || 1;\n        imageData.scaleY = oldImageData.scaleY || 1;\n        initialImageData.scaleX = 1;\n        initialImageData.scaleY = 1;\n      }\n\n      _this2.imageData = imageData;\n      _this2.initialImageData = initialImageData;\n\n      if (isFunction(callback)) {\n        callback();\n      }\n    });\n  },\n  renderImage: function renderImage(callback) {\n    var image = this.image,\n        imageData = this.imageData;\n\n\n    setStyle(image, extend({\n      width: imageData.width,\n      height: imageData.height,\n      marginLeft: imageData.left,\n      marginTop: imageData.top\n    }, getTransforms(imageData)));\n\n    if (isFunction(callback)) {\n      if (this.transitioning) {\n        addListener(image, EVENT_TRANSITION_END, callback, {\n          once: true\n        });\n      } else {\n        callback();\n      }\n    }\n  },\n  resetImage: function resetImage() {\n    var image = this.image;\n\n    // this.image only defined after viewed\n\n    if (image) {\n      image.parentNode.removeChild(image);\n      this.image = null;\n    }\n  }\n};\n\nvar events = {\n  bind: function bind() {\n    var element = this.element,\n        options = this.options,\n        viewer = this.viewer;\n\n\n    if (isFunction(options.view)) {\n      addListener(element, EVENT_VIEW, options.view);\n    }\n\n    if (isFunction(options.viewed)) {\n      addListener(element, EVENT_VIEWED, options.viewed);\n    }\n\n    addListener(viewer, EVENT_CLICK, this.onClick = proxy(this.click, this));\n    addListener(viewer, EVENT_WHEEL, this.onWheel = proxy(this.wheel, this));\n    addListener(viewer, EVENT_DRAG_START, this.onDragStart = proxy(this.dragstart, this));\n    addListener(this.canvas, EVENT_POINTER_DOWN, this.onPointerDown = proxy(this.pointerdown, this));\n    addListener(element.ownerDocument, EVENT_POINTER_MOVE, this.onPointerMove = proxy(this.pointermove, this));\n    addListener(element.ownerDocument, EVENT_POINTER_UP, this.onPointerUp = proxy(this.pointerup, this));\n    addListener(element.ownerDocument, EVENT_KEY_DOWN, this.onKeyDown = proxy(this.keydown, this));\n    addListener(window, EVENT_RESIZE, this.onResize = proxy(this.resize, this));\n  },\n  unbind: function unbind() {\n    var element = this.element,\n        options = this.options,\n        viewer = this.viewer;\n\n\n    if (isFunction(options.view)) {\n      removeListener(element, EVENT_VIEW, options.view);\n    }\n\n    if (isFunction(options.viewed)) {\n      removeListener(element, EVENT_VIEWED, options.viewed);\n    }\n\n    removeListener(viewer, EVENT_CLICK, this.onClick);\n    removeListener(viewer, EVENT_WHEEL, this.onWheel);\n    removeListener(viewer, EVENT_DRAG_START, this.onDragStart);\n    removeListener(this.canvas, EVENT_POINTER_DOWN, this.onPointerDown);\n    removeListener(element.ownerDocument, EVENT_POINTER_MOVE, this.onPointerMove);\n    removeListener(element.ownerDocument, EVENT_POINTER_UP, this.onPointerUp);\n    removeListener(element.ownerDocument, EVENT_KEY_DOWN, this.onKeyDown);\n    removeListener(window, EVENT_RESIZE, this.onResize);\n  }\n};\n\nvar handlers = {\n  click: function click(_ref) {\n    var target = _ref.target;\n    var options = this.options,\n        imageData = this.imageData;\n\n    var action = getData(target, 'action');\n\n    switch (action) {\n      case 'mix':\n        if (this.played) {\n          this.stop();\n        } else if (options.inline) {\n          if (this.fulled) {\n            this.exit();\n          } else {\n            this.full();\n          }\n        } else {\n          this.hide();\n        }\n\n        break;\n\n      case 'view':\n        this.view(getData(target, 'index'));\n        break;\n\n      case 'zoom-in':\n        this.zoom(0.1, true);\n        break;\n\n      case 'zoom-out':\n        this.zoom(-0.1, true);\n        break;\n\n      case 'one-to-one':\n        this.toggle();\n        break;\n\n      case 'reset':\n        this.reset();\n        break;\n\n      case 'prev':\n        this.prev(options.loop);\n        break;\n\n      case 'play':\n        this.play();\n        break;\n\n      case 'next':\n        this.next(options.loop);\n        break;\n\n      case 'rotate-left':\n        this.rotate(-90);\n        break;\n\n      case 'rotate-right':\n        this.rotate(90);\n        break;\n\n      case 'flip-horizontal':\n        this.scaleX(-imageData.scaleX || -1);\n        break;\n\n      case 'flip-vertical':\n        this.scaleY(-imageData.scaleY || -1);\n        break;\n\n      default:\n        if (this.played) {\n          this.stop();\n        }\n    }\n  },\n  load: function load() {\n    var _this = this;\n\n    var options = this.options,\n        image = this.image,\n        index = this.index,\n        viewerData = this.viewerData;\n\n\n    if (this.timeout) {\n      clearTimeout(this.timeout);\n      this.timeout = false;\n    }\n\n    if (!image) {\n      return;\n    }\n\n    removeClass(image, CLASS_INVISIBLE);\n\n    image.style.cssText = 'width:0;' + 'height:0;' + ('margin-left:' + viewerData.width / 2 + 'px;') + ('margin-top:' + viewerData.height / 2 + 'px;') + 'max-width:none!important;' + 'visibility:visible;';\n\n    this.initImage(function () {\n      toggleClass(image, CLASS_TRANSITION, options.transition);\n      toggleClass(image, CLASS_MOVE, options.movable);\n\n      _this.renderImage(function () {\n        _this.viewed = true;\n        dispatchEvent(_this.element, EVENT_VIEWED, {\n          originalImage: _this.images[index],\n          index: index,\n          image: image\n        });\n      });\n    });\n  },\n  loadImage: function loadImage(e) {\n    var image = e.target;\n    var parent = image.parentNode;\n    var parentWidth = parent.offsetWidth || 30;\n    var parentHeight = parent.offsetHeight || 50;\n    var filled = !!getData(image, 'filled');\n\n    getImageNaturalSizes(image, function (naturalWidth, naturalHeight) {\n      var aspectRatio = naturalWidth / naturalHeight;\n      var width = parentWidth;\n      var height = parentHeight;\n\n      if (parentHeight * aspectRatio > parentWidth) {\n        if (filled) {\n          width = parentHeight * aspectRatio;\n        } else {\n          height = parentWidth / aspectRatio;\n        }\n      } else if (filled) {\n        height = parentWidth / aspectRatio;\n      } else {\n        width = parentHeight * aspectRatio;\n      }\n\n      setStyle(image, {\n        width: width,\n        height: height,\n        marginLeft: (parentWidth - width) / 2,\n        marginTop: (parentHeight - height) / 2\n      });\n    });\n  },\n  keydown: function keydown(e) {\n    var options = this.options;\n\n    var key = e.keyCode || e.which || e.charCode;\n\n    if (!this.fulled || !options.keyboard) {\n      return;\n    }\n\n    switch (key) {\n      // (Key: Esc)\n      case 27:\n        if (this.played) {\n          this.stop();\n        } else if (options.inline) {\n          if (this.fulled) {\n            this.exit();\n          }\n        } else {\n          this.hide();\n        }\n\n        break;\n\n      // (Key: Space)\n      case 32:\n        if (this.played) {\n          this.stop();\n        }\n\n        break;\n\n      // View previous (Key: ←)\n      case 37:\n        this.prev(options.loop);\n        break;\n\n      // Zoom in (Key: ↑)\n      case 38:\n\n        // Prevent scroll on Firefox\n        e.preventDefault();\n\n        this.zoom(options.zoomRatio, true);\n        break;\n\n      // View next (Key: →)\n      case 39:\n        this.next(options.loop);\n        break;\n\n      // Zoom out (Key: ↓)\n      case 40:\n\n        // Prevent scroll on Firefox\n        e.preventDefault();\n\n        this.zoom(-options.zoomRatio, true);\n        break;\n\n      // Zoom out to initial size (Key: Ctrl + 0)\n      case 48:\n      // Fall through\n\n      // Zoom in to natural size (Key: Ctrl + 1)\n      // eslint-disable-next-line\n      case 49:\n        if (e.ctrlKey || e.shiftKey) {\n          e.preventDefault();\n          this.toggle();\n        }\n\n        break;\n\n      default:\n    }\n  },\n  dragstart: function dragstart(e) {\n    if (e.target.tagName.toLowerCase() === 'img') {\n      e.preventDefault();\n    }\n  },\n  pointerdown: function pointerdown(e) {\n    var options = this.options,\n        pointers = this.pointers;\n\n\n    if (!this.viewed || this.transitioning) {\n      return;\n    }\n\n    if (e.changedTouches) {\n      each(e.changedTouches, function (touch) {\n        pointers[touch.identifier] = getPointer(touch);\n      });\n    } else {\n      pointers[e.pointerId || 0] = getPointer(e);\n    }\n\n    var action = options.movable ? ACTION_MOVE : false;\n\n    if (Object.keys(pointers).length > 1) {\n      action = ACTION_ZOOM;\n    } else if ((e.pointerType === 'touch' || e.type === 'touchstart') && this.isSwitchable()) {\n      action = ACTION_SWITCH;\n    }\n\n    this.action = action;\n  },\n  pointermove: function pointermove(e) {\n    var options = this.options,\n        pointers = this.pointers,\n        action = this.action,\n        image = this.image;\n\n\n    if (!this.viewed || !action) {\n      return;\n    }\n\n    e.preventDefault();\n\n    if (e.changedTouches) {\n      each(e.changedTouches, function (touch) {\n        extend(pointers[touch.identifier], getPointer(touch, true));\n      });\n    } else {\n      extend(pointers[e.pointerId || 0], getPointer(e, true));\n    }\n\n    if (action === ACTION_MOVE && options.transition && hasClass(image, CLASS_TRANSITION)) {\n      removeClass(image, CLASS_TRANSITION);\n    }\n\n    this.change(e);\n  },\n  pointerup: function pointerup(e) {\n    var action = this.action,\n        pointers = this.pointers;\n\n\n    if (e.changedTouches) {\n      each(e.changedTouches, function (touch) {\n        delete pointers[touch.identifier];\n      });\n    } else {\n      delete pointers[e.pointerId || 0];\n    }\n\n    if (!action) {\n      return;\n    }\n\n    if (action === ACTION_MOVE && this.options.transition) {\n      addClass(this.image, CLASS_TRANSITION);\n    }\n\n    this.action = false;\n  },\n  resize: function resize() {\n    var _this2 = this;\n\n    this.initContainer();\n    this.initViewer();\n    this.renderViewer();\n    this.renderList();\n\n    if (this.viewed) {\n      this.initImage(function () {\n        _this2.renderImage();\n      });\n    }\n\n    if (this.played) {\n      if (this.options.fullscreen && this.fulled && !document.fullscreenElement && !document.mozFullScreenElement && !document.webkitFullscreenElement && !document.msFullscreenElement) {\n        this.stop();\n        return;\n      }\n\n      each(this.player.getElementsByTagName('img'), function (image) {\n        addListener(image, EVENT_LOAD, proxy(_this2.loadImage, _this2), {\n          once: true\n        });\n        dispatchEvent(image, EVENT_LOAD);\n      });\n    }\n  },\n  start: function start(_ref2) {\n    var target = _ref2.target;\n\n    if (target.tagName.toLowerCase() === 'img' && this.images.indexOf(target) !== -1) {\n      this.target = target;\n      this.show();\n    }\n  },\n  wheel: function wheel(e) {\n    var _this3 = this;\n\n    if (!this.viewed) {\n      return;\n    }\n\n    e.preventDefault();\n\n    // Limit wheel speed to prevent zoom too fast\n    if (this.wheeling) {\n      return;\n    }\n\n    this.wheeling = true;\n\n    setTimeout(function () {\n      _this3.wheeling = false;\n    }, 50);\n\n    var ratio = Number(this.options.zoomRatio) || 0.1;\n    var delta = 1;\n\n    if (e.deltaY) {\n      delta = e.deltaY > 0 ? 1 : -1;\n    } else if (e.wheelDelta) {\n      delta = -e.wheelDelta / 120;\n    } else if (e.detail) {\n      delta = e.detail > 0 ? 1 : -1;\n    }\n\n    this.zoom(-delta * ratio, true, e);\n  }\n};\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar methods = {\n  // Show the viewer (only available in modal mode)\n  show: function show() {\n    var _this = this;\n\n    var element = this.element,\n        options = this.options;\n\n\n    if (options.inline || this.transitioning || this.visible) {\n      return this;\n    }\n\n    if (!this.ready) {\n      this.build();\n    }\n\n    if (isFunction(options.show)) {\n      addListener(element, EVENT_SHOW, options.show, {\n        once: true\n      });\n    }\n\n    if (dispatchEvent(element, EVENT_SHOW) === false) {\n      return this;\n    }\n\n    this.open();\n\n    var viewer = this.viewer;\n\n\n    removeClass(viewer, CLASS_HIDE);\n    addListener(element, EVENT_SHOWN, function () {\n      _this.view(_this.target ? [].concat(_toConsumableArray(_this.images)).indexOf(_this.target) : _this.index);\n      _this.target = false;\n    }, {\n      once: true\n    });\n\n    if (options.transition) {\n      this.transitioning = true;\n      addClass(viewer, CLASS_TRANSITION);\n\n      // Force reflow to enable CSS3 transition\n      // eslint-disable-next-line\n      viewer.offsetWidth;\n      addListener(viewer, EVENT_TRANSITION_END, proxy(this.shown, this), {\n        once: true\n      });\n      addClass(viewer, CLASS_IN);\n    } else {\n      addClass(viewer, CLASS_IN);\n      this.shown();\n    }\n\n    return this;\n  },\n\n\n  // Hide the viewer (only available in modal mode)\n  hide: function hide() {\n    var _this2 = this;\n\n    var element = this.element,\n        options = this.options,\n        viewer = this.viewer;\n\n\n    if (options.inline || this.transitioning || !this.visible) {\n      return this;\n    }\n\n    if (isFunction(options.hide)) {\n      addListener(element, EVENT_HIDE, options.hide, {\n        once: true\n      });\n    }\n\n    if (dispatchEvent(element, EVENT_HIDE) === false) {\n      return this;\n    }\n\n    if (this.viewed && options.transition) {\n      this.transitioning = true;\n      addListener(this.image, EVENT_TRANSITION_END, function () {\n        addListener(viewer, EVENT_TRANSITION_END, proxy(_this2.hidden, _this2), {\n          once: true\n        });\n        removeClass(viewer, CLASS_IN);\n      }, {\n        once: true\n      });\n      this.zoomTo(0, false, false, true);\n    } else {\n      removeClass(viewer, CLASS_IN);\n      this.hidden();\n    }\n\n    return this;\n  },\n\n\n  /**\n   * View one of the images with image's index\n   * @param {number} index - The index of the image to view.\n   * @returns {Object} this\n   */\n  view: function view(index) {\n    var _this3 = this;\n\n    var element = this.element,\n        title = this.title,\n        canvas = this.canvas;\n\n\n    index = Number(index) || 0;\n\n    if (!this.ready || !this.visible || this.played || index < 0 || index >= this.length || this.viewed && index === this.index) {\n      return this;\n    }\n\n    var item = this.items[index];\n    var img = item.querySelector('img');\n    var url = getData(img, 'originalUrl');\n    var alt = img.getAttribute('alt');\n    var image = document.createElement('img');\n\n    image.src = url;\n    image.alt = alt;\n\n    if (dispatchEvent(element, EVENT_VIEW, {\n      originalImage: this.images[index],\n      index: index,\n      image: image\n    }) === false) {\n      return this;\n    }\n\n    this.image = image;\n\n    removeClass(this.items[this.index], CLASS_ACTIVE);\n    addClass(item, CLASS_ACTIVE);\n\n    this.viewed = false;\n    this.index = index;\n    this.imageData = null;\n\n    addClass(image, CLASS_INVISIBLE);\n    empty(canvas);\n    canvas.appendChild(image);\n\n    // Center current item\n    this.renderList();\n\n    // Clear title\n    empty(title);\n\n    // Generate title after viewed\n    addListener(element, EVENT_VIEWED, function () {\n      var imageData = _this3.imageData;\n\n\n      title.textContent = alt + ' (' + imageData.naturalWidth + ' \\xD7 ' + imageData.naturalHeight + ')';\n    }, {\n      once: true\n    });\n\n    if (image.complete) {\n      this.load();\n    } else {\n      addListener(image, EVENT_LOAD, proxy(this.load, this), {\n        once: true\n      });\n\n      if (this.timeout) {\n        clearTimeout(this.timeout);\n      }\n\n      // Make the image visible if it fails to load within 1s\n      this.timeout = setTimeout(function () {\n        removeClass(image, CLASS_INVISIBLE);\n        _this3.timeout = false;\n      }, 1000);\n    }\n\n    return this;\n  },\n\n\n  /**\n   * View the previous image\n   * @param {boolean} [loop=false] - Indicate if view the last one\n   * when it is the first one at present.\n   * @returns {Object} this\n   */\n  prev: function prev() {\n    var loop = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    var index = this.index - 1;\n\n    if (index < 0) {\n      index = loop ? this.length - 1 : 0;\n    }\n\n    this.view(index);\n    return this;\n  },\n\n\n  /**\n   * View the next image\n   * @param {boolean} [loop=false] - Indicate if view the first one\n   * when it is the last one at present.\n   * @returns {Object} this\n   */\n  next: function next() {\n    var loop = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    var maxIndex = this.length - 1;\n    var index = this.index + 1;\n\n    if (index > maxIndex) {\n      index = loop ? 0 : maxIndex;\n    }\n\n    this.view(index);\n    return this;\n  },\n\n\n  /**\n   * Move the image with relative offsets.\n   * @param {number} offsetX - The relative offset distance on the x-axis.\n   * @param {number} offsetY - The relative offset distance on the y-axis.\n   * @returns {Object} this\n   */\n  move: function move(offsetX, offsetY) {\n    var imageData = this.imageData;\n\n\n    this.moveTo(isUndefined(offsetX) ? offsetX : imageData.left + Number(offsetX), isUndefined(offsetY) ? offsetY : imageData.top + Number(offsetY));\n\n    return this;\n  },\n\n\n  /**\n   * Move the image to an absolute point.\n   * @param {number} x - The x-axis coordinate.\n   * @param {number} [y=x] - The y-axis coordinate.\n   * @returns {Object} this\n   */\n  moveTo: function moveTo(x) {\n    var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : x;\n    var imageData = this.imageData;\n\n\n    x = Number(x);\n    y = Number(y);\n\n    if (this.viewed && !this.played && this.options.movable) {\n      var changed = false;\n\n      if (isNumber(x)) {\n        imageData.left = x;\n        changed = true;\n      }\n\n      if (isNumber(y)) {\n        imageData.top = y;\n        changed = true;\n      }\n\n      if (changed) {\n        this.renderImage();\n      }\n    }\n\n    return this;\n  },\n\n\n  /**\n   * Zoom the image with a relative ratio.\n   * @param {number} ratio - The target ratio.\n   * @param {boolean} [hasTooltip=false] - Indicates if it has a tooltip or not.\n   * @param {Event} [_originalEvent=null] - The original event if any.\n   * @returns {Object} this\n   */\n  zoom: function zoom(ratio) {\n    var hasTooltip = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n    var _originalEvent = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n    var imageData = this.imageData;\n\n\n    ratio = Number(ratio);\n\n    if (ratio < 0) {\n      ratio = 1 / (1 - ratio);\n    } else {\n      ratio = 1 + ratio;\n    }\n\n    this.zoomTo(imageData.width * ratio / imageData.naturalWidth, hasTooltip, _originalEvent);\n\n    return this;\n  },\n\n\n  /**\n   * Zoom the image to an absolute ratio.\n   * @param {number} ratio - The target ratio.\n   * @param {boolean} [hasTooltip=false] - Indicates if it has a tooltip or not.\n   * @param {Event} [_originalEvent=null] - The original event if any.\n   * @param {Event} [_zoomable=false] - Indicates if the current zoom is available or not.\n   * @returns {Object} this\n   */\n  zoomTo: function zoomTo(ratio) {\n    var hasTooltip = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n    var _originalEvent = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n    var _zoomable = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n    var options = this.options,\n        pointers = this.pointers,\n        imageData = this.imageData;\n\n\n    ratio = Math.max(0, ratio);\n\n    if (isNumber(ratio) && this.viewed && !this.played && (_zoomable || options.zoomable)) {\n      if (!_zoomable) {\n        var minZoomRatio = Math.max(0.01, options.minZoomRatio);\n        var maxZoomRatio = Math.min(100, options.maxZoomRatio);\n\n        ratio = Math.min(Math.max(ratio, minZoomRatio), maxZoomRatio);\n      }\n\n      if (_originalEvent && ratio > 0.95 && ratio < 1.05) {\n        ratio = 1;\n      }\n\n      var newWidth = imageData.naturalWidth * ratio;\n      var newHeight = imageData.naturalHeight * ratio;\n\n      if (_originalEvent) {\n        var offset = getOffset(this.viewer);\n        var center = pointers && Object.keys(pointers).length ? getPointersCenter(pointers) : {\n          pageX: _originalEvent.pageX,\n          pageY: _originalEvent.pageY\n        };\n\n        // Zoom from the triggering point of the event\n        imageData.left -= (newWidth - imageData.width) * ((center.pageX - offset.left - imageData.left) / imageData.width);\n        imageData.top -= (newHeight - imageData.height) * ((center.pageY - offset.top - imageData.top) / imageData.height);\n      } else {\n        // Zoom from the center of the image\n        imageData.left -= (newWidth - imageData.width) / 2;\n        imageData.top -= (newHeight - imageData.height) / 2;\n      }\n\n      imageData.width = newWidth;\n      imageData.height = newHeight;\n      imageData.ratio = ratio;\n      this.renderImage();\n\n      if (hasTooltip) {\n        this.tooltip();\n      }\n    }\n\n    return this;\n  },\n\n\n  /**\n   * Rotate the image with a relative degree.\n   * @param {number} degree - The rotate degree.\n   * @returns {Object} this\n   */\n  rotate: function rotate(degree) {\n    this.rotateTo((this.imageData.rotate || 0) + Number(degree));\n\n    return this;\n  },\n\n\n  /**\n   * Rotate the image to an absolute degree.\n   * @param {number} degree - The rotate degree.\n   * @returns {Object} this\n   */\n  rotateTo: function rotateTo(degree) {\n    var imageData = this.imageData;\n\n\n    degree = Number(degree);\n\n    if (isNumber(degree) && this.viewed && !this.played && this.options.rotatable) {\n      imageData.rotate = degree;\n      this.renderImage();\n    }\n\n    return this;\n  },\n\n\n  /**\n   * Scale the image on the x-axis.\n   * @param {number} scaleX - The scale ratio on the x-axis.\n   * @returns {Object} this\n   */\n  scaleX: function scaleX(_scaleX) {\n    this.scale(_scaleX, this.imageData.scaleY);\n\n    return this;\n  },\n\n\n  /**\n   * Scale the image on the y-axis.\n   * @param {number} scaleY - The scale ratio on the y-axis.\n   * @returns {Object} this\n   */\n  scaleY: function scaleY(_scaleY) {\n    this.scale(this.imageData.scaleX, _scaleY);\n\n    return this;\n  },\n\n\n  /**\n   * Scale the image.\n   * @param {number} scaleX - The scale ratio on the x-axis.\n   * @param {number} [scaleY=scaleX] - The scale ratio on the y-axis.\n   * @returns {Object} this\n   */\n  scale: function scale(scaleX) {\n    var scaleY = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : scaleX;\n    var imageData = this.imageData;\n\n\n    scaleX = Number(scaleX);\n    scaleY = Number(scaleY);\n\n    if (this.viewed && !this.played && this.options.scalable) {\n      var changed = false;\n\n      if (isNumber(scaleX)) {\n        imageData.scaleX = scaleX;\n        changed = true;\n      }\n\n      if (isNumber(scaleY)) {\n        imageData.scaleY = scaleY;\n        changed = true;\n      }\n\n      if (changed) {\n        this.renderImage();\n      }\n    }\n\n    return this;\n  },\n\n\n  // Play the images\n  play: function play() {\n    var _this4 = this;\n\n    var options = this.options,\n        player = this.player;\n\n    var load = proxy(this.loadImage, this);\n    var list = [];\n    var total = 0;\n    var index = 0;\n\n    if (!this.visible || this.played) {\n      return this;\n    }\n\n    if (options.fullscreen) {\n      this.requestFullscreen();\n    }\n\n    this.played = true;\n    this.onLoadWhenPlay = load;\n    addClass(player, CLASS_SHOW);\n\n    each(this.items, function (item, i) {\n      var img = item.querySelector('img');\n      var image = document.createElement('img');\n\n      image.src = getData(img, 'originalUrl');\n      image.alt = img.getAttribute('alt');\n      total += 1;\n\n      addClass(image, CLASS_FADE);\n      toggleClass(image, CLASS_TRANSITION, options.transition);\n\n      if (hasClass(item, CLASS_ACTIVE)) {\n        addClass(image, CLASS_IN);\n        index = i;\n      }\n\n      list.push(image);\n      addListener(image, EVENT_LOAD, load, {\n        once: true\n      });\n      player.appendChild(image);\n    });\n\n    if (isNumber(options.interval) && options.interval > 0) {\n      var playing = function playing() {\n        _this4.playing = setTimeout(function () {\n          removeClass(list[index], CLASS_IN);\n          index += 1;\n          index = index < total ? index : 0;\n          addClass(list[index], CLASS_IN);\n\n          playing();\n        }, options.interval);\n      };\n\n      if (total > 1) {\n        playing();\n      }\n    }\n\n    return this;\n  },\n\n\n  // Stop play\n  stop: function stop() {\n    var _this5 = this;\n\n    var player = this.player;\n\n\n    if (!this.played) {\n      return this;\n    }\n\n    if (this.options.fullscreen) {\n      this.exitFullscreen();\n    }\n\n    this.played = false;\n    clearTimeout(this.playing);\n    each(this.player.getElementsByTagName('img'), function (image) {\n      if (!image.complete) {\n        removeListener(image, EVENT_LOAD, _this5.onLoadWhenPlay);\n      }\n    });\n    removeClass(player, CLASS_SHOW);\n    empty(player);\n\n    return this;\n  },\n\n\n  // Enter modal mode (only available in inline mode)\n  full: function full() {\n    var _this6 = this;\n\n    var options = this.options,\n        viewer = this.viewer,\n        image = this.image,\n        list = this.list;\n\n\n    if (!this.visible || this.played || this.fulled || !options.inline) {\n      return this;\n    }\n\n    this.fulled = true;\n    this.open();\n    addClass(this.button, CLASS_FULLSCREEN_EXIT);\n\n    if (options.transition) {\n      removeClass(image, CLASS_TRANSITION);\n      removeClass(list, CLASS_TRANSITION);\n    }\n\n    addClass(viewer, CLASS_FIXED);\n    viewer.setAttribute('style', '');\n    setStyle(viewer, {\n      zIndex: options.zIndex\n    });\n\n    this.initContainer();\n    this.viewerData = extend({}, this.containerData);\n    this.renderList();\n    this.initImage(function () {\n      _this6.renderImage(function () {\n        if (options.transition) {\n          setTimeout(function () {\n            addClass(image, CLASS_TRANSITION);\n            addClass(list, CLASS_TRANSITION);\n          }, 0);\n        }\n      });\n    });\n\n    return this;\n  },\n\n\n  // Exit modal mode (only available in inline mode)\n  exit: function exit() {\n    var _this7 = this;\n\n    var options = this.options,\n        viewer = this.viewer,\n        image = this.image,\n        list = this.list;\n\n\n    if (!this.fulled) {\n      return this;\n    }\n\n    this.fulled = false;\n    this.close();\n    removeClass(this.button, CLASS_FULLSCREEN_EXIT);\n\n    if (options.transition) {\n      removeClass(image, CLASS_TRANSITION);\n      removeClass(list, CLASS_TRANSITION);\n    }\n\n    removeClass(viewer, CLASS_FIXED);\n    setStyle(viewer, {\n      zIndex: options.zIndexInline\n    });\n\n    this.viewerData = extend({}, this.parentData);\n    this.renderViewer();\n    this.renderList();\n    this.initImage(function () {\n      _this7.renderImage(function () {\n        if (options.transition) {\n          setTimeout(function () {\n            addClass(image, CLASS_TRANSITION);\n            addClass(list, CLASS_TRANSITION);\n          }, 0);\n        }\n      });\n    });\n\n    return this;\n  },\n\n\n  // Show the current ratio of the image with percentage\n  tooltip: function tooltip() {\n    var _this8 = this;\n\n    var options = this.options,\n        tooltipBox = this.tooltipBox,\n        imageData = this.imageData;\n\n\n    if (!this.viewed || this.played || !options.tooltip) {\n      return this;\n    }\n\n    tooltipBox.textContent = Math.round(imageData.ratio * 100) + '%';\n\n    if (!this.tooltiping) {\n      if (options.transition) {\n        if (this.fading) {\n          dispatchEvent(tooltipBox, EVENT_TRANSITION_END);\n        }\n\n        addClass(tooltipBox, CLASS_SHOW);\n        addClass(tooltipBox, CLASS_FADE);\n        addClass(tooltipBox, CLASS_TRANSITION);\n\n        // Force reflow to enable CSS3 transition\n        // eslint-disable-next-line\n        tooltipBox.offsetWidth;\n        addClass(tooltipBox, CLASS_IN);\n      } else {\n        addClass(tooltipBox, CLASS_SHOW);\n      }\n    } else {\n      clearTimeout(this.tooltiping);\n    }\n\n    this.tooltiping = setTimeout(function () {\n      if (options.transition) {\n        addListener(tooltipBox, EVENT_TRANSITION_END, function () {\n          removeClass(tooltipBox, CLASS_SHOW);\n          removeClass(tooltipBox, CLASS_FADE);\n          removeClass(tooltipBox, CLASS_TRANSITION);\n          _this8.fading = false;\n        }, {\n          once: true\n        });\n\n        removeClass(tooltipBox, CLASS_IN);\n        _this8.fading = true;\n      } else {\n        removeClass(tooltipBox, CLASS_SHOW);\n      }\n\n      _this8.tooltiping = false;\n    }, 1000);\n\n    return this;\n  },\n\n\n  // Toggle the image size between its natural size and initial size\n  toggle: function toggle() {\n    if (this.imageData.ratio === 1) {\n      this.zoomTo(this.initialImageData.ratio, true);\n    } else {\n      this.zoomTo(1, true);\n    }\n\n    return this;\n  },\n\n\n  // Reset the image to its initial state\n  reset: function reset() {\n    if (this.viewed && !this.played) {\n      this.imageData = extend({}, this.initialImageData);\n      this.renderImage();\n    }\n\n    return this;\n  },\n\n\n  // Update viewer when images changed\n  update: function update() {\n    var element = this.element,\n        options = this.options,\n        isImg = this.isImg;\n\n    var indexes = [];\n\n    // Destroy viewer if the target image was deleted\n    if (isImg && !element.parentNode) {\n      return this.destroy();\n    }\n\n    var images = [];\n\n    each(isImg ? [element] : element.querySelectorAll('img'), function (image) {\n      if (options.filter) {\n        if (options.filter(image)) {\n          images.push(image);\n        }\n      } else {\n        images.push(image);\n      }\n    });\n\n    this.images = images;\n    this.length = images.length;\n\n    if (this.ready) {\n      each(this.items, function (item, i) {\n        var img = item.querySelector('img');\n        var image = images[i];\n\n        if (image) {\n          if (image.src !== img.src) {\n            indexes.push(i);\n          }\n        } else {\n          indexes.push(i);\n        }\n      });\n\n      setStyle(this.list, {\n        width: 'auto'\n      });\n\n      this.initList();\n\n      if (this.visible) {\n        if (this.length) {\n          if (this.viewed) {\n            var index = indexes.indexOf(this.index);\n\n            if (index >= 0) {\n              this.viewed = false;\n              this.view(Math.max(this.index - (index + 1), 0));\n            } else {\n              addClass(this.items[this.index], CLASS_ACTIVE);\n            }\n          }\n        } else {\n          this.image = null;\n          this.viewed = false;\n          this.index = 0;\n          this.imageData = null;\n          empty(this.canvas);\n          empty(this.title);\n        }\n      }\n    }\n\n    return this;\n  },\n\n\n  // Destroy the viewer\n  destroy: function destroy() {\n    var element = this.element;\n\n\n    if (!getData(element, NAMESPACE)) {\n      return this;\n    }\n\n    if (this.options.inline) {\n      this.unbind();\n    } else {\n      if (this.visible) {\n        this.unbind();\n      }\n\n      removeListener(element, EVENT_CLICK, this.onStart);\n    }\n\n    this.close();\n    this.unbuild();\n    removeData(element, NAMESPACE);\n    return this;\n  }\n};\n\nvar others = {\n  open: function open() {\n    var body = this.body;\n\n\n    addClass(body, CLASS_OPEN);\n\n    body.style.paddingRight = this.scrollbarWidth + (parseFloat(this.initialBodyPaddingRight) || 0) + 'px';\n  },\n  close: function close() {\n    var body = this.body;\n\n\n    removeClass(body, CLASS_OPEN);\n    body.style.paddingRight = this.initialBodyPaddingRight;\n  },\n  shown: function shown() {\n    var element = this.element,\n        options = this.options;\n\n\n    this.transitioning = false;\n    this.fulled = true;\n    this.visible = true;\n    this.render();\n    this.bind();\n\n    if (isFunction(options.shown)) {\n      addListener(element, EVENT_SHOWN, options.shown, {\n        once: true\n      });\n    }\n\n    dispatchEvent(element, EVENT_SHOWN);\n  },\n  hidden: function hidden() {\n    var element = this.element,\n        options = this.options;\n\n    this.transitioning = false;\n    this.viewed = false;\n    this.fulled = false;\n    this.visible = false;\n    this.close();\n    this.unbind();\n    addClass(this.viewer, CLASS_HIDE);\n    this.resetList();\n    this.resetImage();\n\n    if (isFunction(options.hidden)) {\n      addListener(element, EVENT_HIDDEN, options.hidden, {\n        once: true\n      });\n    }\n\n    dispatchEvent(element, EVENT_HIDDEN);\n  },\n  requestFullscreen: function requestFullscreen() {\n    var _window = window,\n        document = _window.document;\n\n\n    if (this.fulled && !document.fullscreenElement && !document.mozFullScreenElement && !document.webkitFullscreenElement && !document.msFullscreenElement) {\n      var documentElement = document.documentElement;\n\n\n      if (documentElement.requestFullscreen) {\n        documentElement.requestFullscreen();\n      } else if (documentElement.msRequestFullscreen) {\n        documentElement.msRequestFullscreen();\n      } else if (documentElement.mozRequestFullScreen) {\n        documentElement.mozRequestFullScreen();\n      } else if (documentElement.webkitRequestFullscreen) {\n        documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);\n      }\n    }\n  },\n  exitFullscreen: function exitFullscreen() {\n    if (this.fulled) {\n      if (document.exitFullscreen) {\n        document.exitFullscreen();\n      } else if (document.msExitFullscreen) {\n        document.msExitFullscreen();\n      } else if (document.mozCancelFullScreen) {\n        document.mozCancelFullScreen();\n      } else if (document.webkitExitFullscreen) {\n        document.webkitExitFullscreen();\n      }\n    }\n  },\n  change: function change(e) {\n    var options = this.options,\n        pointers = this.pointers;\n\n    var pointer = pointers[Object.keys(pointers)[0]];\n    var offsetX = pointer.endX - pointer.startX;\n    var offsetY = pointer.endY - pointer.startY;\n\n    switch (this.action) {\n      // Move the current image\n      case ACTION_MOVE:\n        this.move(offsetX, offsetY);\n        break;\n\n      // Zoom the current image\n      case ACTION_ZOOM:\n        this.zoom(getMaxZoomRatio(pointers), false, e);\n        break;\n\n      case ACTION_SWITCH:\n        this.action = 'switched';\n\n        if (Math.abs(offsetX) > Math.abs(offsetY)) {\n          if (offsetX > 1) {\n            this.prev(options.loop);\n          } else if (offsetX < -1) {\n            this.next(options.loop);\n          }\n        }\n\n        break;\n\n      default:\n    }\n\n    // Override\n    each(pointers, function (p) {\n      p.startX = p.endX;\n      p.startY = p.endY;\n    });\n  },\n  isSwitchable: function isSwitchable() {\n    var imageData = this.imageData,\n        viewerData = this.viewerData;\n\n\n    return this.length > 1 && imageData.left >= 0 && imageData.top >= 0 && imageData.width <= viewerData.width && imageData.height <= viewerData.height;\n  }\n};\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar AnotherViewer = WINDOW.Viewer;\n\nvar Viewer = function () {\n  /**\n   * Create a new Viewer.\n   * @param {Element} element - The target element for viewing.\n   * @param {Object} [options={}] - The configuration options.\n   */\n  function Viewer(element) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Viewer);\n\n    if (!element || element.nodeType !== 1) {\n      throw new Error('The first argument is required and must be an element.');\n    }\n\n    this.element = element;\n    this.options = extend({}, DEFAULTS, isPlainObject(options) && options);\n    this.isImg = false;\n    this.ready = false;\n    this.visible = false;\n    this.viewed = false;\n    this.fulled = false;\n    this.played = false;\n    this.wheeling = false;\n    this.playing = false;\n    this.fading = false;\n    this.tooltiping = false;\n    this.transitioning = false;\n    this.action = false;\n    this.target = false;\n    this.timeout = false;\n    this.index = 0;\n    this.length = 0;\n    this.pointers = {};\n    this.init();\n  }\n\n  _createClass(Viewer, [{\n    key: 'init',\n    value: function init() {\n      var _this = this;\n\n      var element = this.element,\n          options = this.options;\n\n\n      if (getData(element, NAMESPACE)) {\n        return;\n      }\n\n      setData(element, NAMESPACE, this);\n\n      var isImg = element.tagName.toLowerCase() === 'img';\n      var images = [];\n\n      each(isImg ? [element] : element.querySelectorAll('img'), function (image) {\n        if (options.filter) {\n          if (options.filter(image)) {\n            images.push(image);\n          }\n        } else {\n          images.push(image);\n        }\n      });\n\n      var length = images.length;\n\n\n      if (!length) {\n        return;\n      }\n\n      if (isFunction(options.ready)) {\n        addListener(element, EVENT_READY, options.ready, {\n          once: true\n        });\n      }\n\n      // Override `transition` option if it is not supported\n      if (isUndefined(document.createElement(NAMESPACE).style.transition)) {\n        options.transition = false;\n      }\n\n      this.isImg = isImg;\n      this.length = length;\n      this.count = 0;\n      this.images = images;\n\n      var _document = document,\n          body = _document.body;\n\n\n      this.body = body;\n      this.scrollbarWidth = window.innerWidth - document.documentElement.clientWidth;\n      this.initialBodyPaddingRight = getStyle(body).paddingRight;\n\n      if (options.inline) {\n        var progress = proxy(this.progress, this);\n\n        addListener(element, EVENT_READY, function () {\n          _this.view();\n        }, {\n          once: true\n        });\n\n        each(images, function (image) {\n          if (image.complete) {\n            progress();\n          } else {\n            addListener(image, EVENT_LOAD, progress, {\n              once: true\n            });\n          }\n        });\n      } else {\n        addListener(element, EVENT_CLICK, this.onStart = proxy(this.start, this));\n      }\n    }\n  }, {\n    key: 'progress',\n    value: function progress() {\n      this.count += 1;\n\n      if (this.count === this.length) {\n        this.build();\n      }\n    }\n  }, {\n    key: 'build',\n    value: function build() {\n      var options = this.options;\n      var element = this.element;\n\n\n      if (this.ready) {\n        return;\n      }\n\n      var parent = element.parentNode;\n      var template = document.createElement('div');\n\n      template.innerHTML = TEMPLATE;\n\n      var viewer = template.querySelector('.' + NAMESPACE + '-container');\n      var title = viewer.querySelector('.' + NAMESPACE + '-title');\n      var toolbar = viewer.querySelector('.' + NAMESPACE + '-toolbar');\n      var navbar = viewer.querySelector('.' + NAMESPACE + '-navbar');\n      var button = viewer.querySelector('.' + NAMESPACE + '-button');\n\n      this.parent = parent;\n      this.viewer = viewer;\n      this.title = title;\n      this.toolbar = toolbar;\n      this.navbar = navbar;\n      this.button = button;\n      this.canvas = viewer.querySelector('.' + NAMESPACE + '-canvas');\n      this.footer = viewer.querySelector('.' + NAMESPACE + '-footer');\n      this.tooltipBox = viewer.querySelector('.' + NAMESPACE + '-tooltip');\n      this.player = viewer.querySelector('.' + NAMESPACE + '-player');\n      this.list = viewer.querySelector('.' + NAMESPACE + '-list');\n\n      addClass(title, !options.title ? CLASS_HIDE : getResponsiveClass(options.title));\n      addClass(navbar, !options.navbar ? CLASS_HIDE : getResponsiveClass(options.navbar));\n      toggleClass(button, CLASS_HIDE, !options.button);\n\n      if (options.toolbar) {\n        var list = document.createElement('ul');\n        var custom = isPlainObject(options.toolbar);\n        var zoomButtons = BUTTONS.slice(0, 3);\n        var rotateButtons = BUTTONS.slice(7, 9);\n        var scaleButtons = BUTTONS.slice(9);\n\n        if (!custom) {\n          addClass(toolbar, getResponsiveClass(options.toolbar));\n        }\n\n        each(custom ? options.toolbar : BUTTONS, function (value, index) {\n          var deep = custom && isPlainObject(value);\n          var name = custom ? hyphenate(index) : value;\n          var show = deep && !isUndefined(value.show) ? value.show : value;\n\n          if (!show || !options.zoomable && zoomButtons.indexOf(name) !== -1 || !options.rotatable && rotateButtons.indexOf(name) !== -1 || !options.scalable && scaleButtons.indexOf(name) !== -1) {\n            return;\n          }\n\n          var size = deep && !isUndefined(value.size) ? value.size : value;\n          var click = deep && !isUndefined(value.click) ? value.click : value;\n          var item = document.createElement('li');\n\n          item.setAttribute('role', 'button');\n          addClass(item, NAMESPACE + '-' + name);\n\n          if (!isFunction(click)) {\n            setData(item, 'action', name);\n          }\n\n          if (isNumber(show)) {\n            addClass(item, getResponsiveClass(show));\n          }\n\n          if (['small', 'large'].indexOf(size) !== -1) {\n            addClass(item, NAMESPACE + '-' + size);\n          } else if (name === 'play') {\n            addClass(item, NAMESPACE + '-large');\n          }\n\n          if (isFunction(click)) {\n            addListener(item, EVENT_CLICK, click);\n          }\n\n          list.appendChild(item);\n        });\n\n        toolbar.appendChild(list);\n      } else {\n        addClass(toolbar, CLASS_HIDE);\n      }\n\n      if (!options.rotatable) {\n        var rotates = toolbar.querySelectorAll('li[class*=\"rotate\"]');\n\n        addClass(rotates, CLASS_INVISIBLE);\n        each(rotates, function (rotate) {\n          toolbar.appendChild(rotate);\n        });\n      }\n\n      if (options.inline) {\n        addClass(button, CLASS_FULLSCREEN);\n        setStyle(viewer, {\n          zIndex: options.zIndexInline\n        });\n\n        if (getStyle(parent).position === 'static') {\n          setStyle(parent, {\n            position: 'relative'\n          });\n        }\n\n        parent.insertBefore(viewer, element.nextSibling);\n      } else {\n        addClass(button, CLASS_CLOSE);\n        addClass(viewer, CLASS_FIXED);\n        addClass(viewer, CLASS_FADE);\n        addClass(viewer, CLASS_HIDE);\n\n        setStyle(viewer, {\n          zIndex: options.zIndex\n        });\n\n        this.body.appendChild(viewer);\n      }\n\n      if (options.inline) {\n        this.render();\n        this.bind();\n        this.visible = true;\n      }\n\n      this.ready = true;\n\n      dispatchEvent(element, EVENT_READY);\n    }\n  }, {\n    key: 'unbuild',\n    value: function unbuild() {\n      if (!this.ready) {\n        return;\n      }\n\n      this.ready = false;\n      this.viewer.parentNode.removeChild(this.viewer);\n    }\n\n    /**\n     * Get the no conflict viewer class.\n     * @returns {Viewer} The viewer class.\n     */\n\n  }], [{\n    key: 'noConflict',\n    value: function noConflict() {\n      window.Viewer = AnotherViewer;\n      return Viewer;\n    }\n\n    /**\n     * Change the default options.\n     * @param {Object} options - The new default options.\n     */\n\n  }, {\n    key: 'setDefaults',\n    value: function setDefaults(options) {\n      extend(DEFAULTS, isPlainObject(options) && options);\n    }\n  }]);\n\n  return Viewer;\n}();\n\nextend(Viewer.prototype, render, events, handlers, methods, others);\n\nreturn Viewer;\n\n})));\n","/* globals document */\n/**\n * Finds all elements with a \"data-module-init\" attribute\n * and calls the corresponding script\n */\n\nvar unique = true;\n\nfunction initializeModules() {\n  var modules = document.querySelectorAll( \"[data-module-init]\" );\n\n  for ( var i = 0; i < modules.length; i++ ) {\n    var el = modules[ i ];\n    var names = el.getAttribute( \"data-module-init\" ).split( \" \" );\n    var Module;\n\n    for ( var j = 0; j < names.length; j++ ) {\n\t  if(unique) { \n\t      try {\n\t        Module = require( \"modules/\" + names[ j ] );\n\t      } catch ( e ) {\n\t        Module = false;\n\t        console.log( names[ j ] + \" module does not exist.\" );\n\t      }\n\t  } else {\n\t\t  \n\t\t  if(names[ j ] != 'pjax-container' && names[ j ] != 'settings') {\n\t\t      try {\n\t\t        Module = require( \"modules/\" + names[ j ] );\n\t\t      } catch ( e ) {\n\t\t        Module = false;\n\t\t        console.log( names[ j ] + \" module does not exist.\" );\n\t\t      }\n\t  \t\t}\n\t  }\n\n      // Initialize the module with the calling element\n      if ( Module ) {\n        new Module( el );\n      }\n    }\n  }\n  unique = false;\n}\n\nmodule.exports = initializeModules;\n","var initializeModules = require( \"./lib/init-modules.js\" );\n\nif ( document.readyState !== \"loading\" ) {\n\tinitializeModules();\n} else {\n\tdocument.addEventListener( \"DOMContentLoaded\", initializeModules );\n}\n\n\n","var barbajs = require( \"barba.js\" ),\n\t  settings = require( \"modules/settings\" );\n\n\nvar barba = module.exports = {\n\ninit: function(){\n\t\n\tbarbajs.Pjax.start();\n\tconsole.log('barba init')\n\t\n\tbarbajs.Dispatcher.on('newPageReady', function(currentStatus, oldStatus, container) {\n\t\t\n\t\tbarba.initModules();\n\t\tbarba.clearTimers();\n\t});\n\t\n\t\n\t\n\tvar FadeTransition = barbajs.BaseTransition.extend({\n\t  start: function() {\n\t    /**\n\t     * This function is automatically called as soon the Transition starts\n\t     * this.newContainerLoading is a Promise for the loading of the new container\n\t     * (Barba.js also comes with an handy Promise polyfill!)\n\t     */\n\t\t  \n\t    // As soon the loading is finished and the old page is faded out, let's fade the new page\n\t    Promise\n\t      .all([this.newContainerLoading, this.fadeOut()])\n\t      .then(this.fadeIn.bind(this));\n\t  },\n\n\t  fadeOut: function() {\n\t    /**\n\t     * this.oldContainer is the HTMLElement of the old Container\n\t     */\n\t\t  $('body').addClass('scrolling');\n\t\t\n\t\t\n\t\t\n\t\t\n\t    return $(this.oldContainer).animate({ opacity: 1 }, 200).promise();\n\t  },\n\n\t  fadeIn: function() {\n\t    /**\n\t     * this.newContainer is the HTMLElement of the new Container\n\t     * At this stage newContainer is on the DOM (inside our #barba-container and with visibility: hidden)\n\t     * Please note, newContainer is available just after newContainerLoading is resolved!\n\t     */\n\n\t    var _this = this;\n\t    var $el = $(this.newContainer);\n\t\t\n\t\t\n\t\t  \n\t    $(this.oldContainer).hide();\n\t\t\n\t\t\n\t\tsettings.page = $el.find('.main').data('template');\n\t\t\n\t\tconsole.log('settings.page = ' + settings.page);\n\t\t\n\t\tif (settings.page != 'home') {\n      var title = $('.project-template').data('title');\n      $('.project-title').text( ' / ' + title );\n      console.log(title)\n\t\t\t//$('header').removeClass('hero-menu');\n\t\t} else {\n\t\t\t//$('header').addClass('hero-menu');\n      $('.menu-link').removeClass('active clicked');\n      $('.image-link').removeClass('active clicked');\n      $('.project-title').text(' ');\n\t\t}\n\t\t\n\t\tbarba.setBodyClass();\n\t\t\n\t\t$('body, html').scrollTop(0);\n\t\t$('body').removeClass('scrolling');\n\n\t    $el.animate({ opacity: 1 }, 200, function() {\n\t      /**\n\t       * Do not forget to call .done() as soon your transition is finished!\n\t       * .done() will automatically remove from the DOM the old Container\n\t       */\n\t\t\t\n\n\t      _this.done();\n\t    });\n\t  }\n\t});\n\n\t/**\n\t * Next step, you have to tell Barba to use the new Transition\n\t */\n\n\tbarbajs.Pjax.getTransition = function() {\n\t  /**\n\t   * Here you can use your own logic!\n\t   * For example you can use different Transition based on the current page or link...\n\t   */\n\n\t  return FadeTransition;\n\t};\n\t\n},\n\nclearTimers: function(){\n\tfor(var i=0; i<settings.timers.length; i++) {\n\t\tclearTimeout(settings.timers[i]);\n\t}\n},\n\nsetBodyClass: function(){\n\tvar page_class = $('.page-template').last().data('template');\n\t\n\tconsole.log($('.page-template'));\n\t\n\t$('body').removeClass().addClass(page_class);\n},\n\ninitModules: function(){\n    var modules = $('#barba-wrapper').find( \"[data-module-init]\" );\n\n    for ( var i = 0; i < modules.length; i++ ) {\n      var el = modules[ i ];\n      var names = el.getAttribute( \"data-module-init\" ).split( \" \" );\n      var Module;\n\n      for ( var j = 0; j < names.length; j++ ) {\n  \t      try {\n  \t        Module = require( \"modules/\" + names[ j ] );\n  \t      } catch ( e ) {\n  \t        Module = false;\n  \t        console.log( names[ j ] + \" module does not exist.\" );\n  \t      }\n\n        // Initialize the module with the calling element\n        if ( Module ) {\n          new Module( el );\n        }\n      }\n    }\n   \n}\n\n\n\t\n};\n","var settings = require( \"modules/settings\" ),\nthrottle = require(\"modules/throttle\"),\nbarba = require(\"modules/barba\");\n\n\t\nmodule.exports = function( el ) {\n\t\tvar $el = $( el ),\n\t\t$window = $( window ),\n\t\tresizeTimer;\n \n \n \t    init();\n \n\t\tfunction init(){\n\t\t\t\n\t\t\tif (!$('html').hasClass('mobile')) barba.init();\n\t\t\t\n      \n      //menu.init();\n\t\t\t//footer.init();\n      \n      $(\"a\").on(\"touchend\", function(event) {\n        //window.location.href = $(this).attr(\"href\");\n      });\n\t\t\t\n\t\t\tconsole.log('body init');\n\t\t\t\n\t\t\t \n\t\t\t$window.on('resize', winResize);\n\t\t}\n\t\t\n\t\tfunction animOff(){\n\t\t\t$('body').addClass('noTransition');\n\t\t}\n\t\t\n\t\tfunction animOn(){\n\t\t\t$('body').removeClass('noTransition');\n\t\t}\n\t\t\n\t\tfunction winResizeEnd(){\n\t\t\tanimOn();\n\t\t}\n\t\t\n\t\tfunction winResize(){\n\t\t\tclearTimeout(resizeTimer);\n\t\t\tanimOff();\n\t\t\t\n\t\t\tresizeTimer = setTimeout(function(){\n\t\t\t\twinResizeEnd();\n\t\t\t}, 300);\n\t\t} \n\t\t\n};\n  ","module.exports = function( el ) {\n\t\n\tvar $el = $(el);\n  \n  init();\n  \n  function init(){\n    console.log('callout init');\n    \n    $(window).on('scroll', calloutScroll).on('resize', calloutScroll);\n    calloutScroll();\n  }\n  \n  function calloutScroll(){\n    //console.log($el.position().top)\n    var op = 1;\n    \n    if( $(window).scrollTop() >= $el.position().top - $(window).height()/2 + $el.find('.text').outerHeight()/2 ) {\n        \n    \n        //$el.addClass('fixed');\n        $el.find('.text').css('left', $(window).width()/2 - $el.find('.text').outerWidth()/2).css('top', $(window).height()/2 - $el.find('.text').outerHeight()/2)\n      \n        \n      op = 1 - ($(window).scrollTop() - $el.position().top)/($(window).height()/2);\n      \n      console.log( ($(window).scrollTop() - $el.position().top)/($(window).height()/2) );\n      console.log($(window).height()/2)\n      \n      \n      \n      //console.log('fade out = ' + op)\n      \n      var yPos = ($(window).scrollTop() - $el.position().top - $(window).height() + $el.find('.text').outerHeight()/2);\n      //console.log(yPos);\n      \n      //$el.find('.text').css('transform', 'translate(0px, -'+yPos+'px)');\n      \n    } else {\n      op = 1;\n      //$el.removeClass('fixed');\n      \n      //$el.find('.text').css('left', '').css('top', '').css('transform', 'translate(0px, 0px)');;\n    }\n    \n    $el.css('opacity', op);\n    \n    //console.log($(window).scrollTop())\n  }\n  \n};\n","//var Instafeed = require(\"instafeed.js\");\n\n\nmodule.exports = function( el ) {\n\t\n\tvar $el = $(el);\n\t\n\tvar feed = new Instafeed({\n\t        get: 'user',\n\t        userId: '1731750240',\n\t        clientId: '1254d491b8414666ad42e69871538253',\n\t\t\taccessToken: '1731750240.1677ed0.8d2f6531f29f41c0842e46e98f9ad157',\n\t\t\ttemplate: '<img class=\"instafeed-image\" src=\"{{image}}\" />',\n\t\t\tresolution: 'standard_resolution',\n\t\t\tafter: function() {\n\t\t\t\tsetImages();\n\t\t     },\n\t    });\n\t\t\n\t    feed.run();\n\t\t\n\t\t\n\t\tfunction setImages(){\n\t\t\t\n\t\t\t$('.instafeed-image').each(function(){\n\t\t\t\t$(this).css('left', $(this).index() * 220);\n\t\t\t});\n\t\t\t\n\t\t}\n};","module.exports = function( el ) {\n\t\n\tvar $el = $(el),\n      $grid;\n  \n  init();\n  \n  function init(){\n    console.log('masonry init');\n    \n    /*\n    $grid = $el.masonry({\n      // options... \n      itemSelector: '.grid-item',\n      horizontalOrder: true,\n      percentPosition: true,\n      transitionDuration: 0,\n      masonry: {\n        columnWidth: $(window).width()/3\n      }\n    });\n    */\n    \n    $(window).on('resize', winResize);\n    \n    \n    \n    $('#masonry ul').masonry({ 'transitionDuration': 0});\n    \n    $el.imagesLoaded()\n    .always( function( instance ) {\n      console.log('all images loaded');\n    })\n    .done( function( instance ) {\n      console.log('all images successfully loaded');\n    })\n    .fail( function() {\n      console.log('all images loaded, at least one is broken');\n    })\n    .progress( function( instance, image ) {\n      var result = image.isLoaded ? 'loaded' : 'broken';\n      console.log( 'image is ' + result + ' for ' + image.img.src );\n      $('#masonry  ul').masonry();\n    });\n    \n  }\n  \n  function winResize(){\n    \n    \n    //$('#masonry ul').masonry();\n  }\n  \n};\n","module.exports = function( el ) {\n\t\n\tvar $el = $(el),\n  $window = $(window);\n  \n  init();\n  \n  function init(){\n    console.log('menu init');\n    \n    $('.home-link').on('click', homeLinkClicked);\n  }\n  \n  function homeLinkClicked(){\n    \n  }\n  \n  \n};\n","module.exports = function( el ) {\n\t\n\tvar $el = $(el),\n      $grid;\n  \n  init();\n  \n  function init(){\n    console.log('project-gid init');\n    \n  }\n  \n};\n","var Viewer = require('viewerjs');\n\nmodule.exports = function( el ) {\n\t\n\tvar $el = $(el),\n  $window = $(window),\n  $pi = $el.find('.project-images'),\n  $aside = $('aside'),\n  $current = $('.current'),\n  $total = $('.total'),\n  $container = $window,\n  viewer;\n  \n  if (!$('html').hasClass('mobile')) {\n    init();\n  } else {\n    $('.image-link').on('click', function(e) {\n      e.preventDefault();\n    });\n  }\n  \n  function init(){\n    console.log('project init');\n    \n    $container.on('scroll', winScroll);\n    //winScroll();\n    \n    $('.to-top').on('click', topClicked);\n    $('.to-text').on('click', textClicked);\n    $('.image-link').on('click', imageClicked);\n    $total.text($el.find('.project-image').length )\n    $('.counter').show();\n    \n    \n    var options = {\n      title: false,\n      toolbar: false,\n      rotatable: false,\n      transition: false,\n      shown: function () {\n        console.log('shown');\n        console.log(this.viewer)\n        \n        setTimeout(function(){\n          viewer.zoom(1);\n        }, 10);\n      },\n    }\n    \n    $('project-image-viewer').on('shown', function () {\n      console.log('shown zoom in')\n    }, false);\n    \n    //viewer = new Viewer(document.getElementById('project-image-viewer'), options);\n  }\n  \n  function topClicked(){\n    $('body, html').stop().animate({scrollTop:0 }, 400, 'linear');\n  }\n  \n  function textClicked(){\n    $('body, html').stop().animate({scrollTop: $('.project-text').position().top }, 400, 'linear');\n  }\n  \n  function imageClicked(e){\n    e.preventDefault();\n    \n    var index = $(this).closest('.project-image').index();\n    var totalImages = $('.project-image').length - 1;\n    \n    console.log(index)\n    \n    if (index < totalImages){\n      var next = index + 1;\n      var pos = $('.project-image').eq(next).position().top - ($window.height() - $('.project-image').eq(next).height() - 36);\n      $('body, html').stop().animate({scrollTop: pos }, 250, 'linear');\n    } else if(index == totalImages) {\n      var pos = $('.project-text').position().top;\n      $('body, html').stop().animate({scrollTop: pos }, 250, 'linear');\n    }\n    \n    //var index = $(e.currentTarget).parent().index() + 1;\n    //var pos = $('.project-image').eq(index).position().top - $('.project-image').eq(index).height() + $window.height();\n    //console.log(index)\n    //$('body, html').stop().animate({scrollTop: pos }, 0, 'linear');\n  }\n  \n  function winScroll(){\n    //console.log('scroll')\n    \n    console.log($el.find('.project-image').eq(0).find('.image-link').position().top)\n    \n    if( $container.scrollTop() > $el.find('.project-image').eq(0).find('.image-link').position().top ) {\n      $('.project-title-aside').addClass('active');\n      $('.home-link').addClass('hidden');\n    } else {\n      $('.project-title-aside').removeClass('active');\n      $('.home-link').removeClass('hidden');\n    }\n    \n    //console.log($container.scrollTop())\n    if( $container.scrollTop() >  $pi.height() - $window.height() + 36 + $pi.offset().top ){\n      $aside.addClass('bottom').css('bottom', -($('.project-images').height() - $window.height() + $('.project-images').offset().top) );\n    } else {\n      $aside.removeClass('bottom').css('bottom', '');\n    }\n    \n    $('.project-image').each(function(){\n      var index = $(this).index() + 1;\n      if($container.scrollTop() > $(this).position().top - $window.height()/2){\n        setCounter(index);\n      }\n    })\n  }\n  \n  function setCounter(num){\n    console.log(num);\n    $current.text(num);\n  }\n  \n};\n","module.exports = function( el ) {\n\t\n\tvar $el = $(el),\n  $window = $(window);\n  \n  if (!$('html').hasClass('mobile')) init();\n  \n  function init(){\n    console.log('project-menu init');\n    \n    $window.on('scroll', winScroll).on('resize', winResize);\n    winScroll();\n    \n    $('.menu-link').on('mouseover', menuLinkOver).on('click', menuLinkClick);\n    \n    preloadImages();\n    //setImageLinkPosition();\n  }\n  \n  function preloadImages(){\n    $('.projects-menu-images').imagesLoaded()\n      .always( function( instance ) {\n        console.log('all images loaded');\n      })\n      .done( function( instance ) {\n        console.log('all images successfully loaded');\n        //setImageLinkPosition();\n      })\n      .fail( function() {\n        console.log('all images loaded, at least one is broken');\n      })\n      .progress( function( instance, image ) {\n        var result = image.isLoaded ? 'loaded' : 'broken';\n        console.log( 'image is ' + result + ' for ' + image.img.src );\n        //setImageLinkPosition();\n    });\n  }\n  \n  function imageClicked(e){\n\n  }\n  \n  function menuLinkClick(e){\n    var index = $(e.currentTarget).parent().index();\n    \n    $(e.currentTarget).addClass('clicked');\n    $('.image-link').eq(index).addClass('clicked');\n  }\n  \n  function menuLinkOver(e){\n    var index = $(e.currentTarget).parent().index();\n    \n    $('body').addClass('menu-over');\n    setCurrent(index);\n  }\n  \n  function setImageLinkPosition(){\n    var offset = 36;\n    var innerH = $window.height() - (offset * 3);\n    \n    \n    $('.projects-menu-images').css('height', innerH);\n    \n    console.log(innerH)\n  \n    \n    $('.image-link').each(function(){\n      var index = $(this).index();\n      var height = $(this).height();\n      \n      var factor = (innerH-height)/($('.image-link').length-1);\n      var pos = (index * factor);\n      \n      \n      $(this).css('top', pos);\n    });\n  }\n  \n  function setCurrent(num){\n    \n    $('.menu-link.active').removeClass('active');\n    $('.image-link.active').removeClass('active');\n    \n    $('.menu-item').eq(num).find('a').addClass('active');\n    $('.image-link').eq(num).addClass('active');\n    \n  }\n  \n  function winScroll(){\n\n  }\n  \n  function winResize(){\n    //setImageLinkPosition();\n  }\n  \n  function setCounter(num){\n    console.log(num);\n    $current.text(num);\n  }\n  \n};\n","/**\n * Global settings shared by all modules\n * @type {Object}\n */\n\nwindow.mobileAndTabletcheck = function() {\n  var check = false;\n  (function(a){if(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0,4))) check = true;})(navigator.userAgent||navigator.vendor||window.opera);\n  \n  if(window.innerWidth <= 900) check = true;\n  else check = false;\n  \n  return check;\n};\n\nvar settings = module.exports = {\n\tbreakpoints: {\n\t\txs: 481,\n\t\ts: 900,\n\t\tm: 1000,\n\t\tml: 999,\n\t\tl: 1281,\n\t\txl: 1441,\n\t\txxl: 1921\n\t},\n\tpadding: {\n\t\ttop: $(window).height() * .04,\n\t\tleft: $(window).width() * .03\n\t},\n\tscrollContainer: 0,\n\tanimationSpeed: 900,\n\tscrollPos: undefined,\n\tanimating: false,\n\tunique: true,\n\ttimers: [],\n\ttier: {\n\t\tcurrent: 0,\n\t\ttarget: 1\n\t},\n\tindex: {\n\t\tcurrent: 0,\n\t\ttarget: 1\n\t},\n\tisMobile: mobileAndTabletcheck(),\n\tpage:  $('.page-template').data('template'),\n\turl: $('.ui-page').data('url') ,\n\timage: {\n\t\tcurrent: 0\n\t}\n};\n\n\n\nsettings.isMobile = settings.isMobile;\nsettings.breakpoints = settings.breakpoints;\nsettings.padding = settings.padding;\nsettings.animationSpeed = settings.animationSpeed;\nsettings.scrollPos = settings.scrollPos;\nsettings.scrollContainer = settings.scrollContainer;\nsettings.animating = settings.animating;\nsettings.timers = settings.timers;\nsettings.page = settings.page;\nsettings.tier.current = settings.tier.current;\nsettings.tier.target = settings.tier.target;\nsettings.index.current = settings.index.current;\nsettings.index.target = settings.index.target;\nsettings.image.current = settings.image.current;\nsettings.unique = settings.unique;\n\n/*\nsettings.breakpoints.header = settings.breakpoints.m;\nsettings.breakpoints.navHover = settings.breakpoints.m;\nsettings.breakpoints.mobile = settings.breakpoints.l;\n*/ ","module.exports = function( el ) {\n\t\n\tvar $el = $(el);\n\tvar timerSpeed = 4000;\n  var timerInt;\n  var images = $('.home-slideshow-image').toArray();\n  var currImage = 0;\n  \n  init();\n  \n  function init(){\n    setInterval(nextImage, timerSpeed);\n    $(window).on('scroll', winScroll);\n  }\n  \n  function nextImage(){\n    console.log('nextImage')\n    currImage = currImage < images.length - 1 ? currImage + 1 : 0;\n    var x = $(window).width() * currImage\n    //$('.home-slideshow').css('transform', 'translate(-'+x+'px, 0px)');\n    \n    $('.home-slideshow-image.active').removeClass('active');\n    $('.home-slideshow-image').eq(currImage).addClass('active');\n  }\n  \n  function watchSlideshow(){\n    if($(window).scrollTop() > $('.home-hero').outerHeight() - $(window).height()) {\n      if(!$('.home-slideshow').hasClass('abs-bottom'))\n        $('.home-slideshow').addClass('abs-bottom');\n    } else {\n      if($('.home-slideshow').hasClass('abs-bottom'))\n        $('.home-slideshow').removeClass('abs-bottom');\n    }\n  }\n  \n  function winScroll(){\n    watchSlideshow();\n  }\n  \n  function winResize(){\n    watchSlideshow();\n  }\n  \n};\n","// throttle function from Remy Sharp\n// https://remysharp.com/2010/07/21/throttling-function-calls\nmodule.exports = function( fn, threshold, scope ) {\n\tif ( !threshold ) {\n\t\tthreshold = 250;\n\t}\n\n\tvar last, deferTimer;\n\n\treturn function() {\n\t\tvar context = scope || this,\n\t\t\tnow  = +new Date(),\n\t\t\targs = arguments;\n\n\t\tif ( last && now < last + threshold ) {\n\t\t\t// hold on to it\n\t\t\tclearTimeout( deferTimer );\n\t\t\tdeferTimer = setTimeout(function() {\n\t\t\t\tlast = now;\n\t\t\t\tfn.apply( context, args );\n\t\t\t}, threshold );\n\t\t} else {\n\t\t\tlast = now;\n\t\t\tfn.apply( context, args );\n\t\t}\n\t};\n};\n","module.exports = function( el ) {\n\t\n\tvar $el = $(el),\n  index = $el.index(),\n  player;\n  \n  init();\n  \n  function init(){\n    console.log('[video.init]')\n    $el.find('iframe').attr('id', 'video-player-'+index);\n    \n    \n    \n  }\n  \n  \n  \n};\n"]}